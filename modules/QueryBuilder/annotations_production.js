/* Copyright 2009 Google Inc. All Rights Reserved. */ (function(){var d=Math,g=window,aa=parseInt,ba=document,ca=Array,da=Error,k=Number,ea=String;function fa(a,b){return a.display=b}function ga(a,b){return a.prototype=b}function ha(a,b){return a.clone=b}function ia(a,b){return a.value=b}function ja(a,b){return a.print=b}function ka(a,b){return a.addAll=b}function la(a,b){return a.escape=b}function ma(a,b){return a.remove=b}function na(a,b){return a.send=b}function oa(a,b){return a.type=b}function pa(a,b){return a.textContent=b}
function qa(a,b){return a.toString=b}function m(a,b){return a.className=b}function ra(a,b){return a.size=b}
var sa="match",ta="nodeValue",n="split",ua="substr",p="join",va="getMonth",wa="getAttribute",q="style",xa="item",ya="slice",za="name",r="call",Aa="getHours",Ba="buffer",t="body",u="prototype",Ca="exec",x="appendChild",y="value",Da="getFullYear",Ea="propertyIsEnumerable",z="indexOf",A="print",Fa="parentNode",Ga="count",Ha="firstChild",Ia="setTimeout",Ja="active",Ka="ownerDocument",B="replace",La="addAll",Ma="substring",Na="charAt",Oa="remove",Pa="locale",Qa="frames",Ra="send",C="booleanValue",Sa="data",
D="push",Ta="type",Ua="language",Va="width",Wa="nodeName",E="google",Xa="apply",Ya="addListener",Za="height",$a="status",F="length",ab="test",bb="toString",cb="getTimezoneOffset",db="className",eb="nodeType",H="document",fb="floor",gb="toLowerCase",hb="product",I="setAttribute",ib="getTime",jb="nextSibling",kb="size",lb="cancel",J,mb=this,nb=function(a,b,c){a=a[n](".");c=c||mb;a[0]in c||!c.execScript||c.execScript("var "+a[0]);for(var e;a[F]&&(e=a.shift());)a[F]||void 0===b?c=c[e]?c[e]:c[e]={}:c[e]=
b},ob=function(a){var b=typeof a;if("object"==b)if(a){if(a instanceof ca)return"array";if(a instanceof Object)return b;var c=Object[u][bb][r](a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a[F]&&"undefined"!=typeof a.splice&&"undefined"!=typeof a[Ea]&&!a[Ea]("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a[r]&&"undefined"!=typeof a[Ea]&&!a[Ea]("call"))return"function"}else return"null";else if("function"==b&&"undefined"==typeof a[r])return"object";
return b},pb=function(a){var b=ob(a);return"array"==b||"object"==b&&"number"==typeof a[F]},qb=function(a){return"string"==typeof a},rb=function(a){var b=typeof a;return"object"==b&&null!=a||"function"==b},sb=function(a,b,c){return a[r][Xa](a.bind,arguments)},tb=function(a,b,c){if(!a)throw da();if(2<arguments[F]){var e=ca[u][ya][r](arguments,2);return function(){var c=ca[u][ya][r](arguments);ca[u].unshift[Xa](c,e);return a[Xa](b,c)}}return function(){return a[Xa](b,arguments)}},K=function(a,b,c){K=
Function[u].bind&&-1!=Function[u].bind[bb]()[z]("native code")?sb:tb;return K[Xa](null,arguments)},ub=function(a,b){function c(){}ga(c,b[u]);a.superClass_=b[u];ga(a,new c);a[u].constructor=a;a.base=function(a,c,l){for(var v=ca(arguments[F]-2),w=2;w<arguments[F];w++)v[w-2]=arguments[w];return b[u][c][Xa](a,v)}};var vb;var wb=ea[u].trim?function(a){return a.trim()}:function(a){return a[B](/^[\s\xa0]+|[\s\xa0]+$/g,"")},Eb=function(a,b){if(b)a=a[B](xb,"&amp;")[B](yb,"&lt;")[B](zb,"&gt;")[B](Ab,"&quot;")[B](Bb,"&#39;")[B](Cb,"&#0;");else{if(!Db[ab](a))return a;-1!=a[z]("&")&&(a=a[B](xb,"&amp;"));-1!=a[z]("<")&&(a=a[B](yb,"&lt;"));-1!=a[z](">")&&(a=a[B](zb,"&gt;"));-1!=a[z]('"')&&(a=a[B](Ab,"&quot;"));-1!=a[z]("'")&&(a=a[B](Bb,"&#39;"));-1!=a[z]("\x00")&&(a=a[B](Cb,"&#0;"))}return a},xb=/&/g,yb=/</g,zb=/>/g,Ab=/"/g,
Bb=/'/g,Cb=/\x00/g,Db=/[\x00&<>"']/,L=function(a,b,c){a=void 0!==c?a.toFixed(c):ea(a);c=a[z](".");-1==c&&(c=a[F]);b=d.max(0,b-c);b=ca(b+1)[p]("0");return b+a},Fb=function(a,b){return a<b?-1:a>b?1:0};var Gb,Hb={ERAS:["BC","AD"],ERANAMES:["Before Christ","Anno Domini"],NARROWMONTHS:"JFMAMJJASOND".split(""),STANDALONENARROWMONTHS:"JFMAMJJASOND".split(""),MONTHS:"January February March April May June July August September October November December".split(" "),STANDALONEMONTHS:"January February March April May June July August September October November December".split(" "),SHORTMONTHS:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),STANDALONESHORTMONTHS:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),
WEEKDAYS:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),STANDALONEWEEKDAYS:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),SHORTWEEKDAYS:"Sun Mon Tue Wed Thu Fri Sat".split(" "),STANDALONESHORTWEEKDAYS:"Sun Mon Tue Wed Thu Fri Sat".split(" "),NARROWWEEKDAYS:"SMTWTFS".split(""),STANDALONENARROWWEEKDAYS:"SMTWTFS".split(""),SHORTQUARTERS:["Q1","Q2","Q3","Q4"],QUARTERS:["1st quarter","2nd quarter","3rd quarter","4th quarter"],AMPMS:["AM","PM"],DATEFORMATS:["EEEE, MMMM d, y",
"MMMM d, y","MMM d, y","M/d/yy"],TIMEFORMATS:["h:mm:ss a zzzz","h:mm:ss a z","h:mm:ss a","h:mm a"],DATETIMEFORMATS:["{1} 'at' {0}","{1} 'at' {0}","{1}, {0}","{1}, {0}"],FIRSTDAYOFWEEK:6,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:5};Gb=Hb;var Ib=ca[u],Jb=Ib[z]?function(a,b,c){return Ib[z][r](a,b,c)}:function(a,b,c){c=null==c?0:0>c?d.max(0,a[F]+c):c;if(qb(a))return qb(b)&&1==b[F]?a[z](b,c):-1;for(;c<a[F];c++)if(c in a&&a[c]===b)return c;return-1},Mb=Ib.forEach?function(a,b,c){Ib.forEach[r](a,b,c)}:function(a,b,c){for(var e=a[F],h=qb(a)?a[n](""):a,l=0;l<e;l++)l in h&&b[r](c,h[l],l,a)},Nb=function(a){var b=a[F];if(0<b){for(var c=ca(b),e=0;e<b;e++)c[e]=a[e];return c}return[]};var Ob=function(){},Pb=function(a){if("number"==typeof a){var b=a;a=new Ob;a.standardOffset_=b;var c;c=b;if(0==c)c="Etc/GMT";else{var e=["Etc/GMT",0>c?"-":"+"];c=d.abs(c);e[D](d[fb](c/60)%100);c%=60;0!=c&&e[D](":",L(c,2));c=e[p]("")}a.timeZoneId_=c;0==b?b="UTC":(c=["UTC",0>b?"+":"-"],b=d.abs(b),c[D](d[fb](b/60)%100),b%=60,0!=b&&c[D](":",b),b=c[p](""));a.tzNames_=[b,b];a.transitions_=[];return a}b=new Ob;b.timeZoneId_=a.id;b.standardOffset_=-a.std_offset;b.tzNames_=a.names;b.transitions_=a.transitions;
return b};J=Ob[u];J.getDaylightAdjustment=function(a){a=Date.UTC(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate(),a.getUTCHours(),a.getUTCMinutes());a/=36E5;for(var b=0;b<this.transitions_[F]&&a>=this.transitions_[b];)b+=2;return 0==b?0:this.transitions_[b-1]};J.getGMTString=function(a){a=this.getOffset(a);var b=["GMT"];b[D](0>=a?"+":"-");a=d.abs(a);b[D](L(d[fb](a/60)%100,2),":",L(a%60,2));return a=b[p]("")};J.getLongName=function(a){return this.tzNames_[this.isDaylightTime(a)?3:1]};
J.getOffset=function(a){return this.standardOffset_-this.getDaylightAdjustment(a)};J.getRFCTimeZoneString=function(a){a=-this.getOffset(a);var b=[0>a?"-":"+"];a=d.abs(a);b[D](L(d[fb](a/60)%100,2),L(a%60,2));return b[p]("")};J.getShortName=function(a){return this.tzNames_[this.isDaylightTime(a)?2:0]};J.isDaylightTime=function(a){return 0<this.getDaylightAdjustment(a)};var Qb=function(a,b){this.patternParts_=[];this.dateTimeSymbols_=b||Gb;"number"==typeof a?this.applyStandardPattern_(a):this.applyPattern_(a)},Rb=[/^\'(?:[^\']|\'\')*\'/,/^(?:G+|y+|M+|k+|S+|E+|a+|h+|K+|H+|c+|L+|Q+|d+|m+|s+|v+|w+|z+|Z+)/,/^[^\'GyMkSEahKHcLQdmsvwzZ]+/];
Qb[u].applyPattern_=function(a){for(Sb&&(a=a[B](/\u200f/g,""));a;)for(var b=0;b<Rb[F];++b){var c=a[sa](Rb[b]);if(c){c=c[0];a=a[Ma](c[F]);0==b&&("''"==c?c="'":(c=c[Ma](1,c[F]-1),c=c[B](/\'\'/,"'")));this.patternParts_[D]({text:c,type:b});break}}};
Qb[u].format=function(a,b){if(!a)throw da("The date to format must be non-null.");var c=b?6E4*(a[cb]()-b.getOffset(a)):0,e=c?new Date(a[ib]()+c):a,h=e;b&&e[cb]()!=a[cb]()&&(h=6E4*(e[cb]()-a[cb]()),e=new Date(e[ib]()+h),c+=0<c?-864E5:864E5,h=new Date(a[ib]()+c));for(var c=[],l=0;l<this.patternParts_[F];++l){var v=this.patternParts_[l].text;1==this.patternParts_[l][Ta]?c[D](this.formatField_(v,a,e,h,b)):c[D](v)}return c[p]("")};
Qb[u].applyStandardPattern_=function(a){var b;if(4>a)b=this.dateTimeSymbols_.DATEFORMATS[a];else if(8>a)b=this.dateTimeSymbols_.TIMEFORMATS[a-4];else if(12>a)b=this.dateTimeSymbols_.DATETIMEFORMATS[a-8],b=b[B]("{1}",this.dateTimeSymbols_.DATEFORMATS[a-8]),b=b[B]("{0}",this.dateTimeSymbols_.TIMEFORMATS[a-8]);else{this.applyStandardPattern_(10);return}this.applyPattern_(b)};
Qb[u].localizeNumbers_=function(a){a=ea(a);var b=this.dateTimeSymbols_||Gb;if(void 0!==b.ZERODIGIT&&!Tb){for(var c=[],e=0;e<a[F];e++){var h=a.charCodeAt(e);c[D](48<=h&&57>=h?ea.fromCharCode(b.ZERODIGIT+h-48):a[Na](e))}a=c[p]("")}return a};var Tb=!1,Sb=!1;Qb[u].formatEra_=function(a,b){var c=0<b[Da]()?1:0;return 4<=a?this.dateTimeSymbols_.ERANAMES[c]:this.dateTimeSymbols_.ERAS[c]};Qb[u].formatYear_=function(a,b){var c=b[Da]();0>c&&(c=-c);2==a&&(c%=100);return this.localizeNumbers_(L(c,a))};
Qb[u].formatMonth_=function(a,b){var c=b[va]();switch(a){case 5:return this.dateTimeSymbols_.NARROWMONTHS[c];case 4:return this.dateTimeSymbols_.MONTHS[c];case 3:return this.dateTimeSymbols_.SHORTMONTHS[c];default:return this.localizeNumbers_(L(c+1,a))}};var Ub=function(a){if(!(a[Aa]&&a.getSeconds&&a.getMinutes))throw da("The date to format has no time (probably a goog.date.Date). Use Date or goog.date.DateTime, or use a pattern without time fields.");};J=Qb[u];
J.format24Hours_=function(a,b){Ub(b);return this.localizeNumbers_(L(b[Aa]()||24,a))};J.formatFractionalSeconds_=function(a,b){var c=b[ib]()%1E3/1E3;return this.localizeNumbers_(c.toFixed(d.min(3,a))[ua](2)+(3<a?L(0,a-3):""))};J.formatDayOfWeek_=function(a,b){var c=b.getDay();return 4<=a?this.dateTimeSymbols_.WEEKDAYS[c]:this.dateTimeSymbols_.SHORTWEEKDAYS[c]};J.formatAmPm_=function(a,b){Ub(b);var c=b[Aa]();return this.dateTimeSymbols_.AMPMS[12<=c&&24>c?1:0]};
J.format1To12Hours_=function(a,b){Ub(b);return this.localizeNumbers_(L(b[Aa]()%12||12,a))};J.format0To11Hours_=function(a,b){Ub(b);return this.localizeNumbers_(L(b[Aa]()%12,a))};J.format0To23Hours_=function(a,b){Ub(b);return this.localizeNumbers_(L(b[Aa](),a))};
J.formatStandaloneDay_=function(a,b){var c=b.getDay();switch(a){case 5:return this.dateTimeSymbols_.STANDALONENARROWWEEKDAYS[c];case 4:return this.dateTimeSymbols_.STANDALONEWEEKDAYS[c];case 3:return this.dateTimeSymbols_.STANDALONESHORTWEEKDAYS[c];default:return this.localizeNumbers_(L(c,1))}};
J.formatStandaloneMonth_=function(a,b){var c=b[va]();switch(a){case 5:return this.dateTimeSymbols_.STANDALONENARROWMONTHS[c];case 4:return this.dateTimeSymbols_.STANDALONEMONTHS[c];case 3:return this.dateTimeSymbols_.STANDALONESHORTMONTHS[c];default:return this.localizeNumbers_(L(c+1,a))}};J.formatQuarter_=function(a,b){var c=d[fb](b[va]()/3);return 4>a?this.dateTimeSymbols_.SHORTQUARTERS[c]:this.dateTimeSymbols_.QUARTERS[c]};
J.formatDate_=function(a,b){return this.localizeNumbers_(L(b.getDate(),a))};J.formatMinutes_=function(a,b){Ub(b);return this.localizeNumbers_(L(b.getMinutes(),a))};J.formatSeconds_=function(a,b){Ub(b);return this.localizeNumbers_(L(b.getSeconds(),a))};
J.formatWeekOfYear_=function(a,b){var c,e=this.dateTimeSymbols_.FIRSTWEEKCUTOFFDAY;c=new Date(b[Da](),b[va](),b.getDate());var e=void 0!==e?e:3,h=this.dateTimeSymbols_.FIRSTDAYOFWEEK||0,l=(c.getDay()+6)%7,l=(l-h+7)%7,e=(e-h+7)%7;c=c.valueOf()+864E5*(e-l);e=(new Date((new Date(c))[Da](),0,1)).valueOf();c=d[fb](d.round((c-e)/864E5)/7)+1;return this.localizeNumbers_(L(c,a))};J.formatTimeZoneRFC_=function(a,b,c){c=c||Pb(b[cb]());return 4>a?c.getRFCTimeZoneString(b):this.localizeNumbers_(c.getGMTString(b))};
J.formatTimeZone_=function(a,b,c){c=c||Pb(b[cb]());return 4>a?c.getShortName(b):c.getLongName(b)};J.formatTimeZoneId_=function(a,b){b=b||Pb(a[cb]());return b.timeZoneId_};
J.formatField_=function(a,b,c,e,h){var l=a[F];switch(a[Na](0)){case "G":return this.formatEra_(l,c);case "y":return this.formatYear_(l,c);case "M":return this.formatMonth_(l,c);case "k":return this.format24Hours_(l,e);case "S":return this.formatFractionalSeconds_(l,e);case "E":return this.formatDayOfWeek_(l,c);case "a":return this.formatAmPm_(l,e);case "h":return this.format1To12Hours_(l,e);case "K":return this.format0To11Hours_(l,e);case "H":return this.format0To23Hours_(l,e);case "c":return this.formatStandaloneDay_(l,
c);case "L":return this.formatStandaloneMonth_(l,c);case "Q":return this.formatQuarter_(l,c);case "d":return this.formatDate_(l,c);case "m":return this.formatMinutes_(l,e);case "s":return this.formatSeconds_(l,e);case "v":return this.formatTimeZoneId_(b,h);case "w":return this.formatWeekOfYear_(l,e);case "z":return this.formatTimeZone_(l,b,h);case "Z":return this.formatTimeZoneRFC_(l,b,h);default:return""}};g.google=g[E]||{};g[E].annotations=g[E].annotations||{};var Vb=Vb||{};var M=[],Wb=function(a){var b=a+" minutes ago";return 2>a?"1 minute ago":b};M[0]=Wb;var Xb=function(a){var b=a+" hours ago";return 2>a?"1 hour ago":b};M[1]=Xb;var Yb=function(a){var b=a+" days ago";return 2>a?"1 day ago":b};M[2]=Yb;var Zb=function(a){var b=new Qb(2);return b.format(a)};M[57]=Zb;var $b=function(a,b,c){return a+=" - "+(b+(" of "+c))};M[3]=$b;var ac=function(a,b,c){return a+=" - "+(b+(" of approximately "+c))};M[4]=ac;
var bc=function(a){return a='<a zzLabel="signInAnchor" href="'+a+'" target="_top">Sign in to your Google Account</a> to write a comment'};M[5]=bc;M[6]="Ratings";M[7]="Rating";M[8]="Ratings";M[9]="Ratings";M[10]="Ratings";M[11]="Your rating:";M[12]="Your comment:";M[13]="Edit";M[14]="Delete";M[15]="Save";M[16]="Cancel";M[17]="Hide";M[18]="No labels";M[19]="Back";M[20]="Forward";M[21]="{$numPositiveRatings} out of {$totalRatings} people found this review helpful.";M[22]="({$numPositiveRatings} out of {$totalRatings} people found this review helpful.)";
M[23]="powered by Google";M[24]="by Google";M[25]="Mark as spam";M[26]="Hated it";M[27]="Didn't like it";M[28]="Liked it";M[29]="Really liked it";M[30]="Loved it";M[31]="No rating";M[32]="Saving...";M[33]="Saved...";M[34]="&lt; Previous";M[35]="Next &gt;";M[36]="Loading...";M[37]="No comments";M[38]="anonymous";M[39]="Publish";M[40]="Write comment";M[41]="Sorry, we encountered an error while publishing your comment. Please try again.";M[42]="My Reviews";M[43]="Yes";M[44]="No";M[45]="Add Note";
M[46]="&laquo; Previous";M[47]="Next &raquo;";M[48]="More";M[49]="Less";M[50]="Loading...";M[51]="No Results";M[52]="Could not fetch results";M[53]="Your title:";M[54]="Your comment:";M[55]="Thanks for your feedback:";M[56]="Was this comment useful?";M[58]="Delete comment";M[59]="Write a review";M[60]="All fields are mandatory.";var cc=function(a){var b=d[fb](a)!=a?a.toFixed(1):a,b=b+" Stars";return 1==a?"1 Star":b};M[61]=cc;g[E].annotations.messages=M;var dc=function(a,b,c){for(var e in a)b[r](c,a[e],e,a)},ec="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),fc=function(a,b){for(var c,e,h=1;h<arguments[F];h++){e=arguments[h];for(c in e)a[c]=e[c];for(var l=0;l<ec[F];l++)c=ec[l],Object[u].hasOwnProperty[r](e,c)&&(a[c]=e[c])}},gc=function(a){var b=arguments[F];if(1==b&&"array"==ob(arguments[0]))return gc[Xa](null,arguments[0]);for(var c={},e=0;e<b;e++)c[arguments[e]]=!0;return c};gc("area base br col command embed hr img input keygen link meta param source track wbr".split(" "));var hc;a:{var ic=mb.navigator;if(ic){var jc=ic.userAgent;if(jc){hc=jc;break a}}hc=""}var kc=function(a){var b=hc;return-1!=b[z](a)},lc=function(a){var b=hc;return-1!=b[gb]()[z](a[gb]())};var mc=function(){return kc("Opera")||kc("OPR")},nc=function(){return kc("Trident")||kc("MSIE")},oc=mc,pc=nc;var qc=oc(),rc=pc(),sc=kc("Edge"),tc=kc("Gecko")&&!(lc("WebKit")&&!kc("Edge"))&&!(kc("Trident")||kc("MSIE"))&&!kc("Edge"),uc=lc("WebKit")&&!kc("Edge"),xc=function(){if(qc&&mb.opera){var a=mb.opera.version;return"function"==ob(a)?a():a}var a="",b=vc();b&&(a=b?b[1]:"");return rc&&(b=wc(),b>parseFloat(a))?ea(b):a},vc=function(){var a=hc;if(tc)return/rv\:([^\);]+)(\)|;)/[Ca](a);if(sc)return/Edge\/([\d\.]+)/[Ca](a);if(rc)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/[Ca](a);if(uc)return/WebKit\/(\S+)/[Ca](a)},
wc=function(){var a=mb[H];return a?a.documentMode:void 0},yc=xc(),zc={},Ac=function(a){var b;if(!(b=zc[a])){var c=a,e=0;b=wb(ea(yc))[n](".");for(var c=wb(ea(c))[n]("."),h=d.max(b[F],c[F]),l=0;0==e&&l<h;l++){var v=b[l]||"",w=c[l]||"",G=RegExp("(\\d*)(\\D*)","g"),V=RegExp("(\\d*)(\\D*)","g");do{var Kb=G[Ca](v)||["","",""],Lb=V[Ca](w)||["","",""];if(0==Kb[0][F]&&0==Lb[0][F])break;var e=0==Kb[1][F]?0:aa(Kb[1],10),gf=0==Lb[1][F]?0:aa(Lb[1],10),e=Fb(e,gf)||Fb(0==Kb[2][F],0==Lb[2][F])||Fb(Kb[2],Lb[2])}while(0==
e)}b=e;b=zc[a]=0<=b}return b},Bc,Cc=mb[H],Dc=wc(),Ec=Bc=Cc&&rc?Dc||("CSS1Compat"==Cc.compatMode?aa(yc,10):5):void 0;var Fc=!rc||9<=Ec;!tc&&!rc||rc&&9<=Ec||tc&&Ac("1.9.1");rc&&Ac("9");var Hc=function(a){return a?new Gc(9==a[eb]?a:a[Ka]||a[H]):vb||(vb=new Gc)},Jc=function(a,b){dc(b,function(b,e){"style"==e?a[q].cssText=b:"class"==e?m(a,b):"for"==e?a.htmlFor=b:Ic.hasOwnProperty(e)?a[I](Ic[e],b):0==e.lastIndexOf("aria-",0)||0==e.lastIndexOf("data-",0)?a[I](e,b):a[e]=b})},Ic={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",
width:"width"},Lc=function(a,b,c){return Kc(ba,arguments)},Kc=function(a,b){var c=b[0],e=b[1];if(!Fc&&e&&(e[za]||e[Ta])){c=["<",c];e[za]&&c[D](' name="',Eb(e[za]),'"');if(e[Ta]){c[D](' type="',Eb(e[Ta]),'"');var h={};fc(h,e);delete h[Ta];e=h}c[D](">");c=c[p]("")}c=a.createElement(c);e&&(qb(e)?m(c,e):"array"==ob(e)?m(c,e[p](" ")):Jc(c,e));2<b[F]&&Mc(a,c,b,2);return c},Mc=function(a,b,c,e){function h(c){c&&b[x](qb(c)?a.createTextNode(c):c)}for(;e<c[F];e++){var l=c[e];!pb(l)||rb(l)&&0<l[eb]?h(l):Mb(Nc(l)?
Nb(l):l,h)}},Oc=function(a){if(1!=a[eb])return!1;switch(a.tagName){case "APPLET":case "AREA":case "BASE":case "BR":case "COL":case "COMMAND":case "EMBED":case "FRAME":case "HR":case "IMG":case "INPUT":case "IFRAME":case "ISINDEX":case "KEYGEN":case "LINK":case "NOFRAMES":case "NOSCRIPT":case "META":case "OBJECT":case "PARAM":case "SCRIPT":case "SOURCE":case "STYLE":case "TRACK":case "WBR":return!1}return!0},Pc=function(a,b){a[x](b)},Qc=function(a,b){Mc(9==a[eb]?a:a[Ka]||a[H],a,arguments,1)},Rc=function(a){return a&&
a[Fa]?a[Fa].removeChild(a):null},Sc=function(a,b){if(a.contains&&1==b[eb])return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||Boolean(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b[Fa];return b==a},Nc=function(a){if(a&&"number"==typeof a[F]){if(rb(a))return"function"==typeof a[xa]||"string"==typeof a[xa];if("function"==ob(a))return"function"==typeof a[xa]}return!1},Gc=function(a){this.document_=a||mb[H]||ba};J=Gc[u];J.getDomHelper=Hc;
J.getElement=function(a){return qb(a)?this.document_.getElementById(a):a};J.$=Gc[u].getElement;
J.getElementsByTagNameAndClass=function(a,b,c){c=c||this.document_;var e=a&&"*"!=a?a.toUpperCase():"";if(c.querySelectorAll&&c.querySelector&&(e||b))b=e+(b?"."+b:""),b=c.querySelectorAll(b);else if(b&&c.getElementsByClassName)if(a=c.getElementsByClassName(b),e){c={};for(var h=0,l=0,v;v=a[l];l++)e==v[Wa]&&(c[h++]=v);c.length=h;b=c}else b=a;else if(a=c.getElementsByTagName(e||"*"),b){c={};for(l=h=0;v=a[l];l++){var e=v[db],w;if(w="function"==typeof e[n])e=e[n](/\s+/),w=0<=Jb(e,b);w&&(c[h++]=v)}c.length=
h;b=c}else b=a;return b};J.createDom=function(a,b,c){return Kc(this.document_,arguments)};J.createElement=function(a){return this.document_.createElement(a)};J.createTextNode=function(a){return this.document_.createTextNode(ea(a))};J.appendChild=Pc;J.append=Qc;J.canHaveChildren=Oc;J.removeNode=Rc;J.contains=Sc;function N(a,b){var c=function(){};ga(c,b[u]);ga(a,new c);a.superClass_=b[u];a[u].superClass_=b[u]}function Tc(a){a=encodeURIComponent(a);return a=a[B](/\s/g,"+")}var Uc=/&amp;/g,Vc=/&lt;/g,Wc=/&gt;/g,Xc=/&quot;/g,Yc=/&apos;/g;function Zc(a,b,c){var e="on"+b;if(a.addEventListener)a.addEventListener(b,c,!1);else if(a.attachEvent)a.attachEvent(e,c);else{var h=a[e];a[e]=function(){var a=h[Xa](this,arguments),b=c[Xa](this,arguments);return void 0==a?b:void 0==b?a:b&&a}}}var $c={textColor:"color"};
function ad(a,b){for(var c in a){var e=$c[c]||c,h=a[c];b[q][e]=h}}function bd(a,b){var c=ea(a)[gb]();return"false"==c?!1:"true"==c?!0:"null"==c?null:b}function O(a){return null==a||void 0==a?!0:!1}var cd=/^(ar|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Arab|Hebr|Thaa|Nkoo|Tfng))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/,dd=function(a){return cd[ab](a)};var ed=function(){};la(ed[u],function(){});var fd=function(){this.escapers_=[]};N(fd,ed);fd[u].appendEscaper=function(a){this.escapers_[D](a)};la(fd[u],function(a){for(var b=0;b<this.escapers_[F];++b)a=this.escapers_[b].escape(a);return a});var gd=function(){};N(gd,ed);la(gd[u],function(a){a||(a="");a=a[bb]();a=a[B](/\\/g,"\\\\");return a=a[B](/\"/g,'\\"')});var hd=null,id=function(){hd||(hd=new gd);return hd},jd=function(){};N(jd,ed);
la(jd[u],function(a){a=a[B](/%/gi,"%25");a=a[B](/&/gi,"%26");a=a[B](/\+/gi,"%2B");return a=a[B](/ /gi,"+")});var kd=null,ld=function(){kd||(kd=new jd);return kd};var md=function(){this.buf_="";this.compressedOutput_=!1;this.tab_=0;this.lastOutputWasNewLine_=!1};J=md[u];J.setCompressedMode=function(a){this.compressedOutput_=a};J.buffer=function(){return this.buf_};J.clear=function(){this.buf_="";this.tab_=0;this.lastOutputWasNewLine_=!1};ja(J,function(a){this.lastOutputWasNewLine_&&(this.tabToPosition_(),this.lastOutputWasNewLine_=!1);this.buf_+=a});J.tabToPosition_=function(){if(!this.compressedOutput_)for(var a=0;a<this.tab_;++a)this.buf_+="  "};J.tab=function(){++this.tab_};
J.unTab=function(){--this.tab_};J.number=function(a){this[A](""+a)};J.newLine=function(){this.compressedOutput_||(this.buf_+="\n");this.lastOutputWasNewLine_=!0};J.openObject=function(){};J.closeObject=function(){};J.openArray=function(){};J.closeArray=function(){};J.string=function(){};J.booleanValue=function(){};J.hashKey=function(){};J.nullValue=function(){};J.listSeparator=function(){};J.arraySeparator=function(){};J.booleanValueOrNull=function(a){null==a?this.nullValue():this[C](a)};
J.stringArray=function(a){this.openArray();for(var b=0;b<a[F];++b)0<b&&this.arraySeparator(),this.string(a[b]);this.closeArray()};J.numberArray=function(a){this.openArray();for(var b=0;b<a[F];++b)0<b&&this.arraySeparator(),this.number(a[b]);this.closeArray()};J.objectArray=function(a){this.openArray();this.newLine();this.tab();for(var b=0;b<a[F];++b)0<b&&this.arraySeparator(),a[b][A](this);this.closeArray();this.unTab()};
J.printKeyValuePairs=function(a){this.openObject();this.newLine();this.tab();var b=!1,c;for(c in a)b&&(this.listSeparator(),this.newLine()),this.hashKey(c),this.hashValue(a[c]),b=!0;this.closeObject();this.unTab();return this[Ba]()};J.printObjectFields=function(a,b){var c=!1,e;for(e in b){var h=!1;b[e].suppress&&(h=b[e].suppress[r](a));h||(c&&(this.listSeparator(),this.newLine()),this.hashKey(e),b[e][A][r](a,this),c=!0)}return c};
var od=function(a){md[r](this);this.delimiters_=nd;this.escaper_=id();if(a){this.delimiters_=[];for(var b=0;b<nd[F];++b)this.delimiters_[D](a.escape(nd[b]));this.escaper_=new fd;this.escaper_.appendEscaper(id());this.escaper_.appendEscaper(a)}},nd='{ } [ ] " " false true null : , ,'.split(" ");N(od,md);J=od[u];J.printDelimiter=function(a){this[A](this.delimiters_[a])};J.openObject=function(){this.printDelimiter(0)};J.closeObject=function(){this.printDelimiter(1)};J.openArray=function(){this.printDelimiter(2)};
J.closeArray=function(){this.printDelimiter(3)};J.string=function(a){null==a?this.nullValue():(this.printDelimiter(4),this[A](this.escaper_.escape(a)),this.printDelimiter(5))};J.booleanValue=function(a){a?this.printDelimiter(7):this.printDelimiter(6)};J.hashKey=function(a){this.string(a);this.printDelimiter(9)};J.hashValue=function(a){null==a?this.nullValue():"number"==typeof a?this[A](""+a):"string"==typeof a?this.string(a):"boolean"==typeof a?this[C](a):"object"==typeof a&&a[A](this)};
J.nullValue=function(){this.printDelimiter(8)};J.listSeparator=function(){this.printDelimiter(10)};J.arraySeparator=function(){this.printDelimiter(11)};var P=function(){};J=P[u];ja(J,function(a){a.openObject();a.newLine();a.tab();this.printFields(a);a.closeObject();a.unTab();return a[Ba]()});J.printFields=function(a){return a.printObjectFields(this,this.fullDictionary_())};J.parseFromObject=function(a){var b=this.fullDictionary_(),c;for(c in b){var e=a[c];"undefined"!=typeof e&&null!=e&&b[c].parse[r](this,e)}};J.dictionary_=function(){return{}};
J.fullDictionary_=function(){for(var a={},b=this;null!=b;){var c=b.dictionary_[r](this),e={},h=void 0;for(h in a)e[h]=a[h];for(h in c)e[h]=c[h];a=e;b=b.superClass_}return a};var pd=function(a,b){for(var c=[],e=0;e<a[F];++e){var h=new b;h.parseFromObject(a[e]);c[D](h)}return c};P[u].toJSON=function(a,b){var c=new od(a);c.setCompressedMode(!!b);this[A](c);return c[Ba]()};var qd=function(){};N(qd,P);J=qd[u];qa(J,function(){var a=new od;a.setCompressedMode(!0);return this[A](a)});J.hashCode=function(){return this[bb]()};J.copyFrom=function(){};J.isLookupable=function(){return!1};J.isAnnotationEntity=function(){return!1};J.isSearchEntity=function(){return!1};
var Q=function(){this.encrypted_=this.entityId_=this.swUrl_=this.annotation_=this.idDocStr_=this.trustedMerchantId_=this.product_=this.user_=this.doc_=this.isbn_=this.url_=this.authorPhotoUrl_=this.nickname_=this.author_=null;this.groups_=[];this.matchExtraGroups_=null};N(Q,qd);J=Q[u];J.isAnnotationEntity=function(){return!0};J.copyFrom=function(a){this.copyBase(a);this.copyGroups(a)};
J.copyBase=function(a){a!=this&&(this.author_=a.author_,this.nickname_=a.nickname_,this.authorPhotoUrl_=a.authorPhotoUrl_,this.url_=a.url_,this.swUrl_=a.swUrl_,this.entityId_=a.entityId_,this.encrypted_=a.encrypted_,this.isbn_=a.isbn_,this.doc_=a.doc_,this.user_=a.user_,this.product_=a.product_,this.trustedMerchantId_=a.trustedMerchantId_,this.idDocStr_=a.idDocStr_,a.annotation_?(null==this.annotation_&&(this.annotation_=new Q),this.annotation_.copyFrom(a.annotation_)):this.annotation_=null)};
J.copyGroups=function(a){if(a!=this){this.groups_=[];for(var b=0;b<a.groups_[F];++b)this.groups_[D](a.groups_[b]);this.matchExtraGroups_=a.matchExtraGroups_}};J.author=function(){return this.author_};J.nickname=function(){return this.nickname_};J.authorPhotoUrl=function(){return this.authorPhotoUrl_};J.url=function(){return this.url_};J.swUrl=function(){return this.swUrl_};J.entityId=function(){return this.entityId_};J.encrypted=function(){return this.encrypted_};J.isbn=function(){return this.isbn_};
J.doc=function(){return this.doc_};J.user=function(){return this.user_};J.product=function(){return this.product_};J.trustedMerchantId=function(){return this.trustedMerchantId_};J.matchExtraGroups=function(){return this.matchExtraGroups_};J.setAuthor=function(a){this.author_=a};J.setNickname=function(a){this.nickname_=a};J.setAuthorPhotoUrl=function(a){this.authorPhotoUrl_=a};J.setUrl=function(a){this.url_=a};J.setSwUrl=function(a){this.swUrl_=a};J.setEntityId=function(a){this.entityId_=a};
J.setEncrypted=function(a){this.encrypted_=a};J.setIsbn=function(a){this.isbn_=a};J.setDoc=function(a){this.doc_=a};J.setUser=function(a){this.user_=a};J.setProduct=function(a){this.product_=a};J.setTrustedMerchantId=function(a){this.trustedMerchantId_=a};J.setIdDocStr=function(a){this.idDocStr_=a};J.setMatchExtraGroups=function(a){this.matchExtraGroups_="true"===a||!0===a};J.isLookupable=function(){return 0<this.groups_[F]&&"public_comment"==this.groups_[0]?!1:!0};J.annotation=function(){return this.annotation_};
J.setAnnotation=function(a){this.annotation_=a};
J.dictionary_=function(){return{author:{suppress:function(){return!this.author()},print:function(a){a.string(this.author())},parse:function(a){this.setAuthor(a)}},nickname:{suppress:function(){return!this.nickname()},print:function(a){a.string(this.nickname())},parse:function(a){this.setNickname(a)}},authorPhotoUrl:{suppress:function(){return!this.authorPhotoUrl()},print:function(a){a.string(this.authorPhotoUrl())},parse:function(a){this.setAuthorPhotoUrl(a)}},url:{suppress:function(){return!this.url()},
print:function(a){a.string(this.url())},parse:function(a){this.setUrl(a)}},swUrl:{suppress:function(){return!this.swUrl()},print:function(a){a.string(this.swUrl())},parse:function(a){this.setSwUrl(a)}},entityId:{suppress:function(){return!this.entityId()},print:function(a){a.string(this.entityId())},parse:function(a){this.setEntityId(a)}},encrypted:{suppress:function(){return!this.encrypted()},print:function(a){a.string(this.encrypted())},parse:function(a){this.setEncrypted(a)}},isbn:{suppress:function(){return!this.isbn()},
print:function(a){a.string(this.isbn())},parse:function(a){this.setIsbn(a)}},doc:{suppress:function(){return!this.doc()},print:function(a){a.string(this.doc())},parse:function(a){this.setDoc(a)}},user:{suppress:function(){return!this.user()},print:function(a){a.string(this.user())},parse:function(a){this.setUser(a)}},product:{suppress:function(){return!this[hb]()},print:function(a){a.string(this[hb]())},parse:function(a){this.setProduct(a)}},trustedMerchantId:{suppress:function(){return!this.trustedMerchantId()},
print:function(a){a.string(this.trustedMerchantId())},parse:function(a){this.setTrustedMerchantId(a)}},id:{suppress:function(){return!this.idDocStr_},print:function(a){a.string(this.idDocStr_)},parse:function(a){this.setIdDocStr(a)}},annotation:{suppress:function(){return!this.annotation_},print:function(a){this.annotation()[A](a)},parse:function(a){this.annotation_=new Q;this.annotation_.parseFromObject(a)}},groups:{suppress:function(){return 0==this.groups_[F]},print:function(a){a.stringArray(this.groups_)},
parse:function(a){this.groups_="string"==typeof a?a[n](","):a}},matchExtraGroups:{suppress:function(){return!this.matchExtraGroups()},print:function(a){a[C](this.matchExtraGroups())},parse:function(a){this.setMatchExtraGroups(a)}}}};var rd=function(){this.id_="search"+d.random()};N(rd,qd);J=rd[u];J.isSearchEntity=function(){return!0};J.copyFrom=function(a){this.setId(a.id())};J.setId=function(a){return this.id_=a};J.id=function(){return this.id_};
J.dictionary_=function(){return{id:{print:function(a){a.string(this.id())},parse:function(a){this.setId(a)}}}};var sd=function(a,b){this.averageRating_=a?a:0;this.count_=b?b:0};N(sd,P);sd[u].copyFrom=function(a){this.averageRating_=a.averageRating_;this.count_=a.count_};sd[u].combinedAverage=function(a){var b=a.totalCount()+this.count_;if(0==b)return-1;a=a.totalRating()+this.averageRating_*this.count_;return a/b};sd[u].combinedRatingsInInterval=function(a,b,c){a=a.totalRatingsInInterval(b,c);1==b&&5==c&&(a+=this.count_);return a};
sd[u].dictionary_=function(){return{averageRating:{print:function(a){a.number(this.averageRating_)},parse:function(a){this.averageRating_=k(a)}},count:{print:function(a){a.number(this.count_)},parse:function(a){this.count_=k(a)}}}};var td=function(){this.inlineMode_=!1;this.domainRestricted_=this.noStaticGws_=this.locale_=this.applicationId_=null;this.dasherDomain_="";this.languageOfAnnotation_=this.userKey_=null;this.widgetsOnPage_={}};N(td,P);J=td[u];J.inlineMode=function(){return this.inlineMode_};J.setInlineMode=function(a){this.inlineMode_=a};J.applicationId=function(){return this.applicationId_};J.setApplicationId=function(a){this.applicationId_=a};J.locale=function(){return this.locale_};
J.setLocale=function(a){this.locale_=a};J.noStaticGws=function(){return this.noStaticGws_};J.setNoStaticGws=function(a){this.noStaticGws_=a};J.setDasherDomainForZFERequest=function(a){this.dasherDomain_=a};J.userKey=function(){return this.userKey_};J.setUserKey=function(a){this.userKey_=a};J.domainRestricted=function(){return this.domainRestricted_};J.setDomainRestricted=function(a){this.domainRestricted_=a};J.languageOfAnnotation=function(){return this.languageOfAnnotation_};
J.setLanguageOfAnnotation=function(a){this.languageOfAnnotation_=a};var ud=null,R=function(){ud||(ud=new td);return ud};
td[u].dictionary_=function(){return{inlineMode:{print:function(a){a[C](this.inlineMode())},parse:function(a){this.setInlineMode(a)}},applicationId:{print:function(a){a.number(this.applicationId())},parse:function(a){this.setApplicationId(a)}},locale:{print:function(a){a.string(this[Pa]())},parse:function(a){this.setLocale(a)}},noStaticGws:{print:function(a){a[C](this.noStaticGws())},parse:function(a){this.setNoStaticGws(a)}},dasherDomain:{suppress:function(){return!this.dasherDomain_},print:function(a){a.string(this.dasherDomain_)},
parse:function(a){this.dasherDomain_=a}},userKey:{suppress:function(){return!this.userKey_},print:function(a){a.string(this.userKey_)},parse:function(a){this.userKey_=a}},languageOfAnnotation:{suppress:function(){return!this.languageOfAnnotation_},print:function(a){a.string(this.languageOfAnnotation_)},parse:function(a){this.languageOfAnnotation_=a}},domainRestricted:{suppress:function(){return null==this.domainRestricted_},print:function(a){a[C](this.domainRestricted())},parse:function(a){this.setDomainRestricted(a)}}}};var vd=function(){this.mapKeyToValue_={}},wd={};N(vd,P);J=vd[u];J.add=function(a,b){this.mapKeyToValue_[a]=b};ka(J,function(a){for(var b in a.mapKeyToValue_)this.add(b,a.mapKeyToValue_[b])});ja(J,function(a){return a.printKeyValuePairs(this.mapKeyToValue_)});J.parseFromObject=function(a){for(var b in a){var c=a[b],e=typeof c;"string"==e?this.mapKeyToValue_[b]=c:"object"==e&&(e=wd[b])&&(e=e(),e.parseFromObject(c),this.mapKeyToValue_[b]=e)}};
J.parseFromInput=function(a){"string"==typeof a?this.parseFromString(a):this.parseFromObject(a)};J.parseFromString=function(a){a=a[n](",");for(var b=0;b<a[F];++b){var c=a[b],e=c[n](":");2==e[F]&&(c=wb(e[0]),e=wb(e[1]),this.mapKeyToValue_[c]=e)}};var xd=function(){this.data_=[];this.weights_=[]};J=xd[u];J.isMember=function(a){for(var b=0;b<this.data_[F];++b)if(this.data_[b]==a)return!0;return!1};J.getLabelWeight=function(a){for(var b=0;b<this.data_[F];++b)if(this.data_[b]==a)return this.weights_[b];return null};J.setLabelWeight=function(a,b){for(var c=0;c<this.data_[F];++c)if(this.data_[c]==a)return this.weights_[c]=b,!1;this.data_[D](a);this.weights_[D](b);return!0};ra(J,function(){return this.data_[F]});
J.add=function(a){if(this.isMember(a))return!1;this.data_[D](a);this.weights_[D](100);return!0};ma(J,function(a){for(var b=0;b<this.data_[F];++b)if(this.data_[b]==a){for(a=b+1;a<this.data_[F];)this.data_[b]=this.data_[a],this.weights_[b]=this.weights_[a],++b,++a;this.data_.pop();this.weights_.pop();return!0}return!1});J.addSet=function(a){for(var b=!1,c=0;c<a.data_[F];++c)this.setLabelWeight(a.data_[c],a.weights_[c])&&(b=!0);return b};
J.removeSet=function(a){var b=!1,c;for(c in a.map_)this[Oa](c)&&(b=!0);return b};J.removeAll=function(){this.data_=[];this.weights_=[]};J.copyFrom=function(a){this.removeAll();this.addSet(a)};J.toArray=function(){for(var a=[],b=0;b<this.data_[F];++b)a[D](this.data_[b]);return a};J.addArray=function(a){for(var b=0;b<a[F];++b)this.add(a[b])};ja(J,function(a){a.stringArray(this.data_);return a[Ba]()});
J.allWeightsArePositive=function(){for(var a=0;a<this.weights_[F];++a)if(0>this.weights_[a])return!1;return!0};J.setWeightArray=function(a){if(a[F]!=this.data_[F])return!1;for(var b=0;b<this.data_[F];++b)this.weights_[b]=a[b]};J.weightArray=function(){for(var a=[],b=0;b<this.weights_[F];++b)a[D](this.weights_[b]);return a};var yd=function(){this.map_={};this.size_=0};J=yd[u];J.isMember=function(a){return!!this.map_[a]};ra(J,function(){return this.size_});J.add=function(a){if(this.isMember(a))return!1;this.map_[a]=!0;++this.size_;return!0};ma(J,function(a){if(!this.isMember(a))return!1;delete this.map_[a];--this.size_;return!0});J.addSet=function(a){var b=!1,c;for(c in a.map_)this.add(c)&&(b=!0);return b};J.removeSet=function(a){var b=!1,c;for(c in a.map_)this[Oa](c)&&(b=!0);return b};
J.removeAll=function(){this.map_={};this.size_=0};J.copyFrom=function(a){this.removeAll();this.addSet(a)};J.toArray=function(){var a=[],b;for(b in this.map_)a[D](b);return a};J.addArray=function(a){for(var b=0;b<a[F];++b)this.add(a[b])};ja(J,function(a){var b=this.toArray();a.stringArray(b);return a[Ba]()});var zd=function(){this.map_={};this.keys_=[]};J=zd[u];J.removeAll=function(){this.map_={};this.keys_=[]};ka(J,function(a){var b=this;a.forEachEntry(function(a,e){b.add(a,e)})});J.add=function(a,b){var c=this.map_[a];this.map_[a]=b;void 0==c&&this.keys_[D](a)};ma(J,function(a){var b=this.map_[a];if(void 0!=b)for(delete this.map_[a],b=0;b<this.keys_[F];++b)if(this.keys_[b]==a){this.keys_.splice(b,1);break}});ia(J,function(a){return this.map_[a]});ra(J,function(){return this.keys_[F]});J.key=function(a){return this.keys_[a]};
J.forEachEntry=function(a){for(var b=0;b<this[kb]();++b){var c=this.key(b),e=this[y](c);a(c,e)}};J.findFirst=function(a){for(var b=null,c=0;!b&&c<this[kb]();++c){var e=this.key(c),h=this[y](e);a(e,h)&&(b=h)}return b};J.parseFromArray=function(a,b){for(var c=0;c<a[F];++c){var e=a[c],h=e[b.key],e=e[b[y]],l=b.factory();l.parseFromObject(e);this.add(h,l)}};var Ad=function(){zd[r](this)};N(Ad,zd);ka(Ad[u],function(a){var b=this;a.forEachEntry(function(a,e){for(var h=0;h<e[F];++h)b.add(a,e[h])})});Ad[u].add=function(a,b){var c=this[y](a);c||(c=[],Ad.superClass_.add[r](this,a,c));c[D](b)};ma(Ad[u],function(a,b){var c=this[y](a);if(c){var e;a:{for(e=0;e<c[F];++e)if(c[e]==b)break a;e=-1}0>e||c.splice(e,1)}});var Bd=function(){this.mapEventNameToListeners_=new Ad};J=Bd[u];J.numListeners=function(a){return(a=this.mapEventNameToListeners_[y](a))?a[F]:0};J.addListener=function(a,b,c){this.mapEventNameToListeners_.add(a,b);c&&this.notifyImmediately_(b,a)};J.removeListener=function(a,b){this.mapEventNameToListeners_[Oa](a,b)};J.removeAllListeners=function(){this.mapEventNameToListeners_.removeAll()};J.add=function(a){this.mapEventNameToListeners_[La](a.mapEventNameToListeners_)};
J.notifyListeners=function(a,b){var c=this.mapEventNameToListeners_[y](a);if(c)for(var e=0;e<c[F];++e)c[e](b)};J.notifyImmediately_=function(){};var Cd=function(){this.eventNotifier_=new Bd;this.attributes_=null;this.urgent_=!1};N(Cd,P);J=Cd[u];J.entity=function(){};J.updateEventName=function(){};ha(J,function(){});J.add=function(a){this.eventNotifier_.add(a.eventNotifier_);a.urgent()&&(this.urgent_=a.urgent());a.attributes_&&this.addAttributes(a.attributes_)};J.copyFrom=function(a){this.eventNotifier_.removeAllListeners();this.eventNotifier_.add(a.eventNotifier_);this.urgent_=a.urgent();a.attributes_&&this.addAttributes(a.attributes_)};
J.addListener=function(a,b,c){this.eventNotifier_[Ya](a,b,c)};J.removeListener=function(a,b){this.eventNotifier_.removeListeners(a,b)};J.notifyListeners=function(a,b){this.eventNotifier_.notifyListeners(a,b)};J.addAttributes=function(a){this.attributes_||(this.attributes_=new vd);this.attributes_[La](a)};J.urgent=function(){return this.urgent_};
J.dictionary_=function(){return{attributes:{suppress:function(){return!this.attributes_},print:function(a){this.attributes_[A](a)},parse:function(a){this.attributes_=new vd;this.attributes_.parseFromObject(a)}},urgent:{print:function(a){a[C](this.urgent_)},parse:function(a){this.urgent_=Boolean(a)}}}};var Dd=function(a){Cd[r](this);this.entity_=a||new Q;this.timestamp_=null;this.labelsToAdd_=new xd;this.labelsToRemove_=new yd;this.originalStarred_=this.starred_=null;this.originalRating_=this.rating_=-1;this.entityMetadata_=this.aggregateData_=this.originalComment_=this.comment_=this.originalTitle=this.title_=null};N(Dd,Cd);J=Dd[u];J.entity=function(){return this.entity_};J.updateEventName=function(){return"annotationRequest"};J.title=function(){return this.title_};J.starred=function(){return this.starred_};
J.comment=function(){return this.comment_};J.addLabel=function(a){this.labelsToAdd_.add(a)};J.addLabels=function(a){this.labelsToAdd_.addArray(a)};J.removeLabels=function(a){this.labelsToRemove_.addArray(a)};J.setRating=function(a){return this.rating_=a};J.rating=function(){return this.rating_};J.setOriginalRating=function(a){this.originalRating_=a};J.originalRating=function(){return this.originalRating_};J.setTitle=function(a){return this.title_=a};J.setComment=function(a){return this.comment_=a};
ha(J,function(){var a=new Dd;a.copyFrom(this);return a});J.copyFrom=function(a){this.superClass_.copyFrom[r](this,a);this.entity_.copyFrom(a.entity_);this.labelsToAdd_.copyFrom(a.labelsToAdd_);this.labelsToRemove_.copyFrom(a.labelsToRemove_);this.starred_=a.starred_;this.originalStarred_=a.originalStarred_;this.rating_=a.rating_;this.originalRating_=a.originalRating_;this.title_=a.title_;this.originalTitle_=a.originalTitle_;this.comment_=a.comment_;this.originalComment_=a.originalComment_};
J.add=function(a){this.superClass_.add[r](this,a);for(var b=a.labelsToAdd_.toArray(),c=0;c<b[F];++c){var e=b[c];this.labelsToRemove_.isMember(e)?this.labelsToRemove_[Oa](e):this.labelsToAdd_.setLabelWeight(e,a.labelsToAdd_.getLabelWeight(e))}b=a.labelsToRemove_.toArray();for(c=0;c<b[F];++c)e=b[c],this.labelsToAdd_.isMember(e)?this.labelsToAdd_[Oa](e):this.labelsToRemove_.add(e);O(a.starred_)||(this.starred_=a.starred_);0<=a.rating_&&(this.rating_=a.rating_);a.title_&&(this.title_=a.title_);a.comment_&&
(this.comment_=a.comment_)};
J.dictionary_=function(){return{entity:{print:function(a){this.entity()[A](a)},parse:function(a){this.entity().parseFromObject(a)}},starred:{suppress:function(){return O(this.starred_)},print:function(a){a.booleanValueOrNull(this.starred_)},parse:function(a){this.starred_=bd(a,!1)}},timestamp:{suppress:function(){return!this.timestamp_},print:function(a){a.hashValue(this.timestamp_)},parse:function(a){this.timestamp_=a}},labels:{suppress:function(){return 0==this.labelsToAdd_[kb]()},print:function(a){this.labelsToAdd_[A](a)},
parse:function(a){this.addLabels(a)}},labelsWeightPercent:{suppress:function(){return this.labelsToAdd_.allWeightsArePositive()},print:function(a){a.numberArray(this.labelsToAdd_.weightArray())},parse:function(a){this.labelsToAdd_.setWeightArray(a)}},removeLabels:{print:function(a){this.labelsToRemove_[A](a)},parse:function(a){this.removeLabels(a)}},starRating:{print:function(a){a.hashValue(this.rating_)},parse:function(a){this.rating_=a}},originalRating:{print:function(a){a.hashValue(this.originalRating_)},
parse:function(a){this.originalRating_=a}},title:{print:function(a){a.string(this.title_)},parse:function(a){this.title_=a}},originalTitle:{print:function(a){a.string(this.originalTitle_)},parse:function(a){this.originalTitle_=a}},comment:{print:function(a){a.string(this.comment_)},parse:function(a){this.comment_=a}},language:{suppress:function(){return!R().languageOfAnnotation()},print:function(a){a.string("fr")},parse:function(){}},aggregateInfo:{suppress:function(){return!this.aggregateData_},
print:function(a){this.aggregateData_[A](a)},parse:function(a){this.aggregateData_=new Ed(this.entity_);this.aggregateData_.parseFromObject(a)}},metadata:{suppress:function(){return!this.entityMetadata_},print:function(a){this.entityMetadata_[A](a)},parse:function(a){this.entityMetadata_=new Fd;this.entityMetadata_.parseFromObject(a)}}}};var Gd=function(a,b){this.rating_=a?a:0;this.count_=b?b:0};N(Gd,P);Gd[u].rating=function(){return this.rating_};Gd[u].count=function(){return this.count_};Gd[u].dictionary_=function(){return{rating:{print:function(a){a.number(this.rating_)},parse:function(a){this.rating_=a}},count:{print:function(a){a.number(this.count_)},parse:function(a){this.count_=a}}}};var Hd=function(){this.count_=[];for(var a=0;5>a;++a)this.count_[a]=0};N(Hd,P);J=Hd[u];
J.copyFrom=function(a){for(var b=0;5>b;++b)this.count_[b]=a.count_[b]};ha(J,function(){var a=new Hd;a.copyFrom(this);return a});J.isInRange_=function(a){return 1<=a&&5>=a};J.count=function(a){return this.isInRange_(a)?this.count_[a-1]:0};J.totalCount=function(){for(var a=0,b=0;5>b;++b)a+=this.count_[b];return a};J.totalRatingsInInterval=function(a,b){for(var c=0,e=a;e<=b;++e)c+=this[Ga](e);return c};J.totalRating=function(){for(var a=0,b=0;5>b;++b)a+=this.count_[b]*(b+1);return a};
J.average=function(){var a=this.totalCount();if(0==a)return-1;var b=this.totalRating();return b/a};J.setRating=function(a,b){this.isInRange_(a)&&(this.count_[a-1]=b)};J.applyUpdate=function(a){if(0>a.rating()||0>a.originalRating())return!1;if(0<a.originalRating()){var b=this[Ga](a.originalRating());this.setRating(a.originalRating(),b-1)}0<a.rating()&&(b=this[Ga](a.rating()),this.setRating(a.rating(),b+1));return!0};
J.addEntries=function(a){for(var b=0;b<a[F];++b){var c=new Gd;c.parseFromObject(a[b]);this.isInRange_(c.rating())&&(this.count_[c.rating()-1]=c[Ga]())}};J.addEntriesFromStringList=function(a){var b=[];a=a[n](",");for(var c=1;5>=c&&c<=a[F];){var e={};e.rating=c;e.count=k(a[c-1]);b[D](e);++c}this.addEntries(b)};J.parseFromObject=function(a){"string"==typeof a?this.addEntriesFromStringList(a):this.addEntries(a)};
ja(J,function(a){a.openArray();a.newLine();a.tab();for(var b=0;5>b;++b){0<b&&(a.listSeparator(),a.newLine());var c=new Gd(b+1,this.count_[b]);c[A](a)}a.closeArray();a.unTab();return a[Ba]()});var Id=function(a,b,c){this.map_=new zd;this.name_=a;this.factory_=b;this.keyExtractor_=c};J=Id[u];J.name=function(){return this.name_};J.add=function(a){var b=this.keyExtractor_(a);this.map_.add(b,a)};ma(J,function(a){this.map_[Oa](a)});ia(J,function(a){return this.map_[y](a)});ra(J,function(){return this.map_[kb]()});J.removeAll=function(){this.map_.removeAll()};ka(J,function(a){this.map_[La](a.map_)});J.forEachEntry=function(a){this.map_.forEachEntry(a)};J.findFirst=function(a){return this.map_.findFirst(a)};
ja(J,function(a,b){var c=b||function(a,b){b[A](a)};a.openArray();a.newLine();a.tab();var e=!1;this.forEachEntry(function(b,l){e&&(a.listSeparator(),a.newLine());c(a,l);e=!0});a.closeArray();a.unTab()});J.parseFromArray=function(a){for(var b=0;b<a[F];++b){var c=new this.factory_;c.parseFromObject(a[b]);this.add(c)}};var Jd=function(){this.text_=null;this.count_=-1};N(Jd,P);Jd[u].dictionary_=function(){return{label:{print:function(a){a.string(this.text_)},parse:function(a){this.text_=a}},count:{print:function(a){a.number(this.count_)},parse:function(a){this.count_=a}}}};var Kd=function(a){Id[r](this,a,Jd,function(a){return a.text_})};N(Kd,Id);Kd[u].copyFrom=function(a){this.removeAll();this[La](a)};Kd[u].addTextWithCount=function(a,b){var c=new Jd;c.text_=a;c.count_=b;this.add(c)};Kd[u].parseFromObject=function(a){this.parseFromArray(a)};var Ed=function(a){this.entity_=a||new Q;this.ratingHistogram_=new Hd;this.labelHistogram_=new Kd("labelHistogram")};N(Ed,P);J=Ed[u];J.entity=function(){return this.entity_};J.copyFrom=function(a){this.entity_.copyFrom(a.entity_);this.ratingHistogram_.copyFrom(a.ratingHistogram_);this.labelHistogram_.copyFrom(a.labelHistogram_)};J.ratings=function(){return this.ratingHistogram_};J.labels=function(){return this.labelHistogram_};J.addLabel=function(a,b){this.labelHistogram_.addTextWithCount(a,b)};
J.addLabels=function(a){for(var b=0;b<a[F];++b)this.addLabel(a[b][0],a[b][1])};J.applyUpdate=function(a){a.aggregateData_?this.copyFrom(a.aggregateData_):this.ratings()&&this.ratingHistogram_.applyUpdate(a)};
J.dictionary_=function(){return{entity:{print:function(a){this.entity_[A](a)},parse:function(a){this.entity_.parseFromObject(a)}},labels:{print:function(a){this.labelHistogram_[A](a)},parse:function(a){this.labelHistogram_.parseFromObject(a)}},starRatings:{print:function(a){this.ratingHistogram_[A](a)},parse:function(a){this.ratingHistogram_.parseFromObject(a)}}}};var Fd=function(a){this.entity_=a||new Q;this.labels_=[]};N(Fd,P);Fd[u].dictionary_=function(){return{entity:{print:function(a){this.entity_[A](a)},parse:function(a){this.entity_.parseFromObject(a)}},labels:{suppress:function(){return 0==this.labels_[F]},print:function(a){a.stringArray(this.labels_)},parse:function(a){this.labels_="string"==typeof a?a[n](","):a}}}};var Ld=function(){};N(Ld,P);Ld[u].applyUpdate=function(){};var Md=function(a){return null!==a&&void 0!==a&&"string"==typeof a?!0:!1};var Nd=function(a){this.entity_=a||new Q;this.starred_=this.timestamp_=null;this.starRating_=-1;this.labelSet_=new xd;this.replaceAllLabels_=this.comment_=this.title_=null;this.attributes_=void 0;this.entityMetadata_=this.aggregateData_=null};N(Nd,Ld);J=Nd[u];J.entity=function(){return this.entity_};J.setEntity=function(a){this.entity_=a};J.starred=function(){return this.starred_};J.timestamp=function(){return this.timestamp_};J.setTimestamp=function(a){this.timestamp_=a};J.rating=function(){return this.starRating_};
J.setRating=function(a){this.starRating_=a};J.title=function(){return this.title_};J.setTitle=function(a){this.title_=a};J.comment=function(){return this.comment_};J.setComment=function(a){this.comment_=a};J.addAttributes=function(a){this.attributes_||(this.attributes_=new vd);this.attributes_[La](a)};J.aggregateData=function(){this.aggregateData_||(this.aggregateData_=new Ed(this.entity_));return this.aggregateData_};
J.applyUpdate=function(a){a.timestamp_&&(this.timestamp_=a.timestamp_);null!=a.starred()&&(this.starred_=a.starred());this.labelSet_.addSet(a.labelsToAdd_);this.labelSet_.removeSet(a.labelsToRemove_);a.labelsToRemove_[kb]()&&(this.replaceAllLabels_=!0);0<=a.rating()&&this.setRating(a.rating());a.title()&&this.setTitle(a.title());(a.comment()||""==a.comment())&&this.setComment(a.comment());a.attributes_&&this.addAttributes(a.attributes_);(this.aggregateData_||a.aggregateData_)&&this.aggregateData().applyUpdate(a);
a.entityMetadata_&&(this.entityMetadata_=a.entityMetadata_)};
J.dictionary_=function(){return{entity:{print:function(a){this.entity()[A](a)},parse:function(a){this.entity().parseFromObject(a)}},starred:{suppress:function(){return O(this.starred_)},print:function(a){a[C](this.starred_)},parse:function(a){this.starred_=!!bd(a,!1)}},timestamp:{suppress:function(){return!this.timestamp_},print:function(a){a.hashValue(this.timestamp_)},parse:function(a){this.setTimestamp(a)}},title:{suppress:function(){return!this.title_},print:function(a){a.string(this.title_)},
parse:function(a){Md(a)&&this.setTitle(a)}},comment:{suppress:function(){return null==this.comment_},print:function(a){a.string(this.comment())},parse:function(a){Md(a)&&this.setComment(a)}},language:{suppress:function(){return!R().languageOfAnnotation()},print:function(a){a.string(R().languageOfAnnotation())},parse:function(){}},starRating:{suppress:function(){return 0>this.starRating_},print:function(a){a.hashValue(this.starRating_)},parse:function(a){var b;b=a;var c;c=b;(b=(c=null!==c&&void 0!==
c&&"number"==typeof c?!0:!1)?0>b?!1:!0:!1)&&this.setRating(a)}},labels:{suppress:function(){return 0==this.labelSet_[kb]()},print:function(a){this.labelSet_[A](a)},parse:function(a){this.labelSet_.addArray(a)}},labelsWeightPercent:{suppress:function(){return this.labelSet_.allWeightsArePositive()},print:function(a){a.numberArray(this.labelSet_.weightArray())},parse:function(a){this.labelSet_.setWeightArray(a)}},replaceAllLabels:{suppress:function(){return O(this.replaceAllLabels_)},print:function(a){a[C](this.replaceAllLabels_)},
parse:function(a){this.replaceAllLabels_=!!bd(a,!1)}},attributes:{suppress:function(){return!this.attributes_},print:function(a){this.attributes_[A](a)},parse:function(a){this.attributes_=new vd;this.attributes_.parseFromObject(a)}},aggregateInfo:{suppress:function(){return!this.aggregateData_},print:function(a){this.aggregateData_[A](a)},parse:function(a){this.aggregateData_=new Ed;this.aggregateData_.parseFromObject(a)}},metadata:{suppress:function(){return!this.entityMetadata_},print:function(a){this.entityMetadata_[A](a)},
parse:function(a){this.entityMetadata_=new Fd;this.entityMetadata_.parseFromObject(a)}}}};var Od=function(){this.entity_=null;this.includeAggregateInfo_=!1;this.labelHistogramSize_=-1;this.weightedLabelHistogram_=this.includeMetadata_=!1};N(Od,P);J=Od[u];J.setEntity=function(a){this.entity_=a};J.setIncludeAggregateInfo=function(a){this.includeAggregateInfo_=a};J.setLabelHistogramSize=function(a){this.labelHistogramSize_=a};J.setIncludeMetadata=function(a){this.includeMetadata_=a};J.setWeightedLabelHistogram=function(a){this.weightedLabelHistogram_=a};
J.printFields=function(a){a.printObjectFields(this.entity_,this.entity_.dictionary_());a.listSeparator();a.newLine();a.printObjectFields(this,this.includeExtraInfoDictionary_())};
J.includeExtraInfoDictionary_=function(){return{includeAggregateInfo:{suppress:function(){return!this.includeAggregateInfo_},print:function(a){a[C](this.includeAggregateInfo_)},parse:function(a){this.includeAggregateInfo_=new Boolean(a)}},labelHistogramSize:{print:function(a){a.number(this.labelHistogramSize_)},parse:function(a){this.labelHistogramSize_=k(a)}},includeMetadata:{suppress:function(){return!this.includeMetadata_},print:function(a){a[C](this.includeMetadata_)},parse:function(a){this.includeMetadata_=
new Boolean(a)}},weightedLabelHistogram:{suppress:function(){return!this.weightedLabelHistogram_},print:function(a){a[C](this.weightedLabelHistogram_)},parse:function(a){this.weightedLabelHistogram_=new Boolean(a)}}}};var Pd=function(){this.errorCode_=this.status_=0},Qd={};Pd[u].status=function(){return this.status_};Pd[u].errorCode=function(){return this.errorCode_};
Pd[u].initFromRequestStatus=function(a,b,c){if(b==Rd.STATUS.TIMEOUT)this.status_=1;else if(b==Rd.STATUS.INTERNAL_ERROR)this.status_=Qd.INTERNAL_ERROR,this.errorCode_=c;else if(b==Rd.STATUS.SERVER_RESPONSE_IS_NOT_JSON)this.status_=3;else if(a)if(a=a.channelHeader)if("object"!=typeof a)this.status_=Pd.CHANNEL_HEADER_IS_NOT_AN_OBJECT;else{if(a=a.errorCode)this.status_=2,this.errorCode_=a}else this.status_=Pd.NO_CHANNEL_HEADER_IN_RESPONSE;else this.status_=Pd.CANNOT_INTERPRET_RESPONSE_FROM_SERVER};var Rd=function(){};Rd.STATUS={SUCCESS:0,FAILURE:1,TIMEOUT:2,INTERNAL_ERROR:3,SERVER_RESPONSE_IS_NOT_JSON:4};na(Rd[u],function(){});var Sd=function(){this.arguments_={};this.url_=null;this.trialsRemaining_=5;this.timeout_=4E3;this.delayBetweenRetries_=500};N(Sd,P);var Td=null;J=Sd[u];J.setArgument=function(a,b){this.arguments_[a]=b};J.pushArguments=function(a){for(var b in this.arguments_)a[D](b+"="+Tc(this.arguments_[b]))};J.setUrl=function(a){this.url_=a};J.url=function(){return this.url_};J.setTrialsRemaining=function(a){this.trialsRemaining_=a};J.setTimeout=function(a){this.timeout_=a};J.timeout=function(){return this.timeout_};
J.resendAfterDelay_=function(a,b){var c=this.delayBetweenRetries_;this.delayBetweenRetries_*=2;g[Ia](K(this[Ra],this,a,b),c)};J.resendTillNoTimeout_=function(a,b,c,e){1==e[$a]()?0<this.trialsRemaining_?this.resendAfterDelay_(a,b):b(c,e):2==e[$a]()?"7"==e.errorCode()&&0<this.trialsRemaining_?this.resendAfterDelay_(a,b):b(c,e):(0==e[$a]()&&(a=c.channelHeader)&&(a=a.token)&&(Td=a),b(c,e))};na(J,function(a,b){this.trialsRemaining_--;a[Ra](this,K(this.resendTillNoTimeout_,this,a,b))});
J.dictionary_=function(){return{applicationId:{suppress:function(){return null==R().applicationId()},print:function(a){a.number(R().applicationId())},parse:function(){}},domainRestricted:{suppress:function(){return null==R().domainRestricted()},print:function(a){a[C](R().domainRestricted())},parse:function(){}}}};var Ud=function(){Sd[r](this)};N(Ud,Sd);var Wd=function(a){a=a[sa](Vd);this.path_=decodeURIComponent(a[5]||"")},Vd=/^(?:([^:/?#]+):)?(?:\/\/(?:([^/?#]*)@)?([^/?#:@]*)(?::([0-9]+))?)?([^?#]+)?(?:\?([^#]*))?(?:#(.*))?$/;var Xd=function(){},Yd=null,Zd=function(){Yd||(Yd=new Xd);Yd.constructRelativePathPrefix_(ba.URL);return Yd};Xd[u].constructRelativePathPrefix_=function(a){a=new Wd(a);a=a.path_;var b=null;this.relativePathPrefix_=(b="/a/reviews/"==a[ua](0,11)?a[sa](/^\/a\/reviews\/((?:macros\/)?[^/]+)/)[1]:"/a/"==a[ua](0,3)?a[sa](/^\/a\/((?:macros\/)?[^/]+)/)[1]:R().dasherDomain_)?"/a/reviews/"+b+"/json":"/reviews/json"};
Xd[u].paths=function(){return{lookupJSON:this.relativePathPrefix_+"/lookup",lookupAggregatesJSON:this.relativePathPrefix_+"/aggregates",writeAnnotationsJSON:this.relativePathPrefix_+"/write",deleteAnnotationsJSON:this.relativePathPrefix_+"/delete",writeAbuseReportJSON:this.relativePathPrefix_+"/abuse/write",abuseReportJSON:this.relativePathPrefix_+"/report",authenticationTokenJSON:this.relativePathPrefix_+"/token",searchAnnotationsJSON:this.relativePathPrefix_+"/search"}};var $d=function(){Sd[r](this);this.fetchSpecificationArray_=[];this.setUrl(Zd().paths().lookupJSON);this.setTrialsRemaining(2);this[Ia](3E3)};N($d,Ud);$d[u].addUpdate=function(a){var b=a.entity();if(b.isLookupable()){var c=new Od;c.setEntity(b);a.includeAggregateInfo()&&c.setIncludeAggregateInfo(!0);c.setLabelHistogramSize(a.labelHistogramSize());a.includeMetadata()&&c.setIncludeMetadata(!0);a.weightedLabelHistogram()&&c.setWeightedLabelHistogram(!0);this.fetchSpecificationArray_[D](c)}};
$d[u].dictionary_=function(){return{entities:{suppress:function(){return 0==this.fetchSpecificationArray_[F]},print:function(a){a.objectArray(this.fetchSpecificationArray_)},parse:function(a){this.fetchSpecificationArray_=pd(a,Od)}},applicationId:{suppress:function(){return null==R().applicationId()},print:function(a){a.number(R().applicationId())},parse:function(){}}}};var ae=function(a){Cd[r](this);this.entity_=a||new Q;this.includeAggregateInfo_=!1;this.labelHistogramSize_=-1;this.weightedLabelHistogram_=this.includeMetadata_=!1};N(ae,Cd);J=ae[u];J.entity=function(){return this.entity_};J.updateEventName=function(){return"fetchRequest"};J.includeAggregateInfo=function(){return this.includeAggregateInfo_};J.setIncludeAggregateInfo=function(a){this.includeAggregateInfo_=a};J.labelHistogramSize=function(){return this.labelHistogramSize_};
J.setLabelHistogramSize=function(a){this.labelHistogramSize_=a};J.includeMetadata=function(){return this.includeMetadata_};J.setIncludeMetadata=function(a){this.includeMetadata_=a};J.weightedLabelHistogram=function(){return this.weightedLabelHistogram_};J.setWeightedLabelHistogram=function(a){this.weightedLabelHistogram_=a};ha(J,function(){var a=new ae;a.copyFrom(this);return a});
J.copyFrom=function(a){this.superClass_.copyFrom[r](this,a);this.entity_.copyFrom(a.entity_);this.includeAggregateInfo_=a.includeAggregateInfo();this.labelHistogramSize_=a.labelHistogramSize();this.includeMetadata_=a.includeMetadata();this.weightedLabelHistogram_=a.weightedLabelHistogram()};
J.add=function(a){this.superClass_.add[r](this,a);this.includeAggregateInfo_||(this.includeAggregateInfo_=a.includeAggregateInfo());-1==this.labelHistogramSize_&&(this.labelHistogramSize_=a.labelHistogramSize());this.includeMetadata_||(this.includeMetadata_=a.includeMetadata());this.weightedLabelHistogram_||(this.weightedLabelHistogram_=a.weightedLabelHistogram())};var ce=function(){this.entity_=null;this.category_=4;this.language_=this.comment_=this.abuseCategory_=null;this.requestId_=be++};N(ce,P);var be=0;J=ce[u];J.entity=function(){return this.entity_};J.setEntity=function(a){this.entity_=a};J.category=function(){return this.category_};J.setCategory=function(a){this.category_=a};J.abuseCategory=function(){return this.abuseCategory_};J.setAbuseCategory=function(a){this.abuseCategory_=a};J.comment=function(){return this.comment_};
J.setComment=function(a){this.comment_=a};J.language=function(){return this.language_};J.setLanguage=function(a){this.language_=a};
J.dictionary_=function(){return{entity:{print:function(a){this.entity_[A](a)},parse:function(a){this.entity_.parseFromObject(a)}},category:{print:function(a){a.number(this.category())},parse:function(a){this.setCategory(a)}},abuseCategory:{print:function(a){a.string(this.abuseCategory())},parse:function(a){this.setAbuseCategory(a)}},comment:{suppress:function(){return!this.comment()},print:function(a){a.string(this.comment())},parse:function(a){this.setComment(a)}},language:{suppress:function(){return!this[Ua]()},
print:function(a){a.string(this[Ua]())},parse:function(a){this.setLanguage(a)}},requestId:{suppress:function(){return!1},print:function(a){a.number(this.requestId_)},parse:function(){}}}};var de=function(){Sd[r](this);this.setUrl(Zd().paths().authenticationTokenJSON)};N(de,Ud);var ee=function(){Sd[r](this)};N(ee,Sd);na(ee[u],function(a,b){var c=new de;c[Ra](a,K(this.processTokenResponse_,this,a,b))});ee[u].processTokenResponse_=function(a,b,c,e){0!=e[$a]()?b(c,e):(c=Td,this.setArgument("token",c),ee.superClass_[Ra][r](this,a,b))};var fe=function(){Sd[r](this);this.abuseReportArray_=[];this.applicationId_=1;this.setUrl(Zd().paths().abuseReportJSON);this.setTrialsRemaining(1)};N(fe,ee);fe[u].addAbuseReport=function(a){this.abuseReportArray_[D](a)};fe[u].dictionary_=function(){return{Report:{suppress:function(){return 0==this.abuseReportArray_[F]},print:function(a){a.objectArray(this.abuseReportArray_)},parse:function(a){this.abuseReportArray_=pd(a,ce)}}}};var ge=function(){this.authenticated_=!1;this.id_=this.email_=null};N(ge,P);var he=null,ie=function(){he||(he=new ge);return he};ge[u].reset=function(){this.authenticated_=!1;this.id_=this.email_=null};ge[u].dictionary_=function(){return{isAuthenticated:{print:function(a){a[C](this.authenticated_)},parse:function(a){this.authenticated_=a}},email:{print:function(a){a.hashValue(this.email_)},parse:function(a){this.email_=a}},id:{print:function(a){a.string(this.id_)},parse:function(a){this.id_=a}}}};var je=function(a){this.searchEntity_=a||new rd;this.restrictToApplicationId_=null;this.requireComment_=!0;this.authors_=new yd;this.entities_=[];this.groups_=new yd;this.ascendingOrder_=this.sortBy_=this.matchExtraGroups_=null;this.numResults_=this.startIndex_=-1;this.userFeedbackRestrict_=this.moderatorId_=this.language_=this.comparisonType_=this.qualityScore_=this.includeNickNames_=this.maxTimestamp_=this.minTimestamp_=this.continuationTokenInResponse_=this.continuationToken_=null;this.user_=ie();
this.updateLists_=[]};N(je,Ld);J=je[u];J.user=function(){return this.user_};J.addUpdateList=function(a){this.updateLists_[D](a)};J.result=function(a){return this.updateLists_[a]};J.entity=function(){return this.searchEntity_};
J.applyUpdate=function(a){a.restrictToApplicationId_&&(this.restrictToApplicationId_=a.restrictToApplicationId_);a.requireComment()&&(this.requireComment_=a.requireComment());this.authors_.addSet(a.authorsToAdd_);this.authors_.removeSet(a.authorsToRemove_);for(var b={},c=0;c<a.entitiesToAdd_[F];c++){var e=a.entitiesToAdd_[c],h=e.url();b[h]||(this.entities_[D](e),b[h]=!0)}this.groups_.addSet(a.groupsToAdd_);this.groups_.removeSet(a.groupsToRemove_);O(a.matchExtraGroups())||(this.matchExtraGroups_=
a.matchExtraGroups());a.sortBy()&&(this.sortBy_=a.sortBy());O(a.ascendingOrder())||(this.ascendingOrder_=a.ascendingOrder());0<=a.startIndex()&&(this.startIndex_=a.startIndex());0<=a.numResults()&&(this.numResults_=a.numResults());a.continuationToken()&&(this.continuationToken_=a.continuationToken());a.continuationTokenInResponse_&&(this.continuationTokenInResponse_=a.continuationTokenInResponse_);a.minTimestamp()&&(this.minTimestamp_=a.minTimestamp());a.maxTimestamp()&&(this.maxTimestamp_=a.maxTimestamp());
O(a.includeNickNames())||(this.includeNickNames_=a.includeNickNames());a.qualityScore()&&(this.qualityScore_=a.qualityScore());a.comparisonType()&&(this.comparisonType_=a.comparisonType());a[Ua]()&&(this.language_=a[Ua]());a.moderatorId()&&(this.moderatorId_=a.moderatorId());a.userFeedbackRestrict_&&(this.userFeedbackRestrict_=a.userFeedbackRestrict_)};
J.dictionary_=function(){return{applicationId:{suppress:function(){return!this.restrictToApplicationId_},print:function(a){a.number(this.restrictToApplicationId_)},parse:function(a){this.restrictToApplicationId_=k(a)}},requireComment:{suppress:function(){return O(this.requireComment_)},print:function(a){a[C](this.requireComment_)},parse:function(a){this.requireComment_=Boolean(a)}},authors:{suppress:function(){return 0==this.authors_[kb]()},print:function(a){this.authors_[A](a)},parse:function(a){this.authors_.addArray(a)}},
entities:{suppress:function(){return 0==this.entities_[F]},print:function(a){a.objectArray(this.entities_)},parse:function(a){this.entities_=pd(a,Q)}},groups:{suppress:function(){return 0==this.groups_[kb]()},print:function(a){this.groups_[A](a)},parse:function(a){this.groups_.addArray(a)}},matchExtraGroups:{suppress:function(){return!this.matchExtraGroups_},print:function(a){a[C](this.matchExtraGroups_)},parse:function(a){this.matchExtraGroups_=Boolean(a)}},sortBy:{suppress:function(){return"lastModificationDate"==
this.sortBy_},print:function(a){a.string(this.sortBy_)},parse:function(a){this.sortBy_=a}},ascendingOrder:{suppress:function(){return!this.ascendingOrder_},print:function(a){a[C](this.ascendingOrder_)},parse:function(a){this.ascendingOrder_=Boolean(a)}},startIndex:{suppress:function(){return 0>this.startIndex_},print:function(a){a.number(this.startIndex_)},parse:function(a){this.startIndex_=k(a)}},numResults:{suppress:function(){return 0>this.numResults_},print:function(a){a.number(this.numResults_)},
parse:function(a){this.numResults_=k(a)}},continuationToken:{suppress:function(){return!this.continuationToken_},print:function(a){a.string(this.continuationToken_)},parse:function(a){this.continuationToken_=a}},setContinuationTokenInResponse:{suppress:function(){return!this.continuationTokenInResponse_},print:function(a){a[C](this.continuationTokenInResponse_)},parse:function(a){this.continuationTokenInResponse_=Boolean(a)}},minTimestamp:{suppress:function(){return!this.minTimestamp_},print:function(a){a.number(this.minTimestamp_)},
parse:function(a){this.minTimestamp_=k(a)}},maxTimestamp:{suppress:function(){return!this.maxTimestamp_},print:function(a){a.number(this.maxTimestamp_)},parse:function(a){this.maxTimestamp_=k(a)}},includeNickNames:{suppress:function(){return!this.includeNickNames_},print:function(a){a[C](this.includeNickNames_)},parse:function(a){this.includeNickNames_=Boolean(a)}},qualityScore:{suppress:function(){return!this.qualityScore_},print:function(a){a.number(this.qualityScore_)},parse:function(a){this.qualityScore_=
k(a)}},comparisonType:{suppress:function(){return!this.comparisonType_},print:function(a){a.number(this.comparisonType_)},parse:function(a){this.comparisonType_=k(a)}},language:{suppress:function(){return!this.language_},print:function(a){a.string(this.language_)},parse:function(a){this.language_=a}},user:{suppress:function(){return!0},parse:function(a){this.user_.reset();this.user_.parseFromObject(a)}},moderatorId:{suppress:function(){return!this.moderatorId_},print:function(a){a.string(this.moderatorId_)},
parse:function(a){this.moderatorId_=a}},UserFeedbackRestrict:{suppress:function(){return!this.userFeedbackRestrict_},print:function(a){this.userFeedbackRestrict_[A](a)},parse:function(a){this.userFeedbackRestrict_.parseFromObject(a)}}}};var ke=function(){Sd[r](this);this.setUrl(Zd().paths().searchAnnotationsJSON);this.searchDataArray_=[]};N(ke,Ud);ke[u].addUpdate=function(a){var b=new je(a.entity());b.applyUpdate(a);this.searchDataArray_[D](b)};ke[u].dictionary_=function(){return{searchSpecs:{suppress:function(){return 0==this.searchDataArray_[F]},print:function(a){a.objectArray(this.searchDataArray_)},parse:function(a){this.searchDataArray_=pd(a,je)}}}};var le=function(a){Cd[r](this);this.searchEntity_=a||new rd;this.restrictToApplicationId_=null;this.requireComment_=!0;this.authorsToAdd_=new yd;this.authorsToRemove_=new yd;this.entitiesToAdd_=[];this.entitiesToRemove_=[];this.groupsToAdd_=new yd;this.groupsToRemove_=new yd;this.matchExtraGroups_=null;this.sortBy_="lastModificationDate";this.ascendingOrder_=null;this.numResults_=this.startIndex_=-1;this.userFeedbackRestrict_=this.moderatorId_=this.language_=this.comparisonType_=this.qualityScore_=
this.includeNickNames_=this.maxTimestamp_=this.minTimestamp_=this.continuationTokenInResponse_=this.continuationToken_=null};N(le,Cd);J=le[u];J.entity=function(){return this.searchEntity_};J.updateEventName=function(){return"searchRequest"};ha(J,function(){var a=new le;a.copyFrom(this);return a});
J.copyFrom=function(a){this.superClass_.copyFrom[r](this,a);this.searchEntity_.copyFrom(a.entity());this.authorsToAdd_.removeAll();this.authorsToAdd_.addSet(a.authorsToAdd_);this.authorsToRemove_.removeAll();this.authorsToRemove_.addSet(a.authorsToRemove_);this.entitiesToAdd_=[];this.addEntities(a.entitiesToAdd_);this.entitiesToRemove_=[];this.removeEntities(a.entitiesToRemove_);this.groupsToAdd_.removeAll();this.groupsToAdd_.addSet(a.groupsToAdd_);this.groupsToRemove_.removeAll();this.groupsToRemove_.addSet(a.groupsToRemove_);
this.restrictToApplicationId_=a.restrictToApplicationId_;this.requireComment_=a.requireComment();this.matchExtraGroups_=a.matchExtraGroups();this.sortBy_=a.sortBy();this.ascendingOrder_=a.ascendingOrder();this.startIndex_=a.startIndex();this.numResults_=a.numResults();this.continuationToken_=a.continuationToken();this.continuationTokenInResponse_=a.continuationTokenInResponse_;this.minTimestamp_=a.minTimestamp();this.maxTimestamp_=a.maxTimestamp();this.includeNickNames_=a.includeNickNames();this.qualityScore_=
a.qualityScore();this.comparisonType_=a.comparisonType();this.language_=a[Ua]();this.moderatorId_=a.moderatorId();this.userFeedbackRestrict_=a.userFeedbackRestrict_};
J.add=function(a){this.superClass_.copyFrom[r](this,a);this.authorsToAdd_.addSet(a.authorsToAdd_);this.authorsToRemove_.addSet(a.authorsToRemove_);this.addEntities(a.entitiesToAdd_);this.removeEntities(a.entitiesToRemove_);this.groupsToAdd_.addSet(a.groupsToAdd_);this.groupsToRemove_.addSet(a.groupsToRemove_);a.restrictToApplicationId_||(this.restrictToApplicationId_=a.restrictToApplicationId_);O(a.requireComment())||(this.requireComment_=a.requireComment());O(a.matchExtraGroups())||(this.matchExtraGroups_=
a.matchExtraGroups());a.sortBy()&&(this.sortBy_=a.sortBy());O(a.ascendingOrder())||(this.ascendingOrder_=a.ascendingOrder());0<=a.startIndex()&&(this.startIndex_=a.startIndex());0<=a.numResults()&&(this.numResults_=a.numResults());a.continuationToken()&&(this.continuationToken_=a.continuationToken());a.continuationTokenInResponse_&&(this.continuationTokenInResponse_=a.continuationTokenInResponse_);a.minTimestamp()&&(this.minTimestamp_=a.minTimestamp());a.maxTimestamp()&&(this.maxTimestamp_=a.maxTimestamp());
O(a.includeNickNames())||(this.includeNickNames_=a.includeNickNames());a.qualityScore()&&(this.qualityScore_=a.qualityScore());a.comparisonType()&&(this.comparisonType_=a.comparisonType());a[Ua]()&&(this.language_=a[Ua]());this.moderatorId_=a.moderatorId();this.userFeedbackRestrict_=a.userFeedbackRestrict_};J.addEntity=function(a){this.entitiesToAdd_[D](a)};J.addEntities=function(a){for(var b=0;b<a[F];b++)this.addEntity(a[b])};J.removeEntity=function(a){this.entitiesToRemove_[D](a)};
J.removeEntities=function(a){for(var b=0;b<a[F];b++)this.removeEntity(a[b])};J.requireComment=function(){return this.requireComment_};J.matchExtraGroups=function(){return this.matchExtraGroups_};J.setMatchExtraGroups=function(a){this.matchExtraGroups_=a};J.sortBy=function(){return this.sortBy_};J.ascendingOrder=function(){return this.ascendingOrder_};J.startIndex=function(){return this.startIndex_};J.numResults=function(){return this.numResults_};J.continuationToken=function(){return this.continuationToken_};
J.minTimestamp=function(){return this.minTimestamp_};J.maxTimestamp=function(){return this.maxTimestamp_};J.includeNickNames=function(){return this.includeNickNames_};J.qualityScore=function(){return this.qualityScore_};J.comparisonType=function(){return this.comparisonType_};J.language=function(){return this.language_};J.setLanguage=function(a){this.language_=a};J.moderatorId=function(){return this.moderatorId_};
J.dictionary_=function(){return{applicationId:{suppress:function(){return!this.restrictToApplicationId_},print:function(a){a.number(this.restrictToApplicationId_)},parse:function(a){this.restrictToApplicationId_=k(a)}},requireComment:{suppress:function(){return O(this.requireComment_)},print:function(a){a[C](this.requireComment_)},parse:function(a){this.requireComment_=Boolean(a)}},addAuthors:{suppress:function(){return 0==this.authorsToAdd_[kb]()},print:function(a){this.authorsToAdd_[A](a)},parse:function(a){this.authorsToAdd_.addArray(a)}},
removeAuthors:{suppress:function(){return 0==this.authorsToRemove_[kb]()},print:function(a){this.authorsToRemove_[A](a)},parse:function(a){this.authorsToRemove_.addArray(a)}},addEntities:{suppress:function(){return 0==this.entitiesToAdd_[F]},print:function(a){a.objectArray(this.entitiesToAdd_)},parse:function(a){this.entitiesToAdd_=pd(a,rd)}},removeEntities:{suppress:function(){return 0==this.entitiesToRemove_[F]},print:function(a){a.objectArray(this.entitiesToRemove_)},parse:function(a){this.entitiesToRemove_=
pd(a,rd)}},addGroups:{suppress:function(){return 0==this.groupsToAdd_[kb]()},print:function(a){this.groupsToAdd_[A](a)},parse:function(a){this.groupsToAdd_.addArray(a)}},removeGroups:{suppress:function(){return 0==this.groupsToRemove_[kb]()},print:function(a){this.groupsToRemove_[A](a)},parse:function(a){this.groupsToRemove_.addArray(a)}},matchExtraGroups:{suppress:function(){return!this.matchExtraGroups_},print:function(a){a[C](this.matchExtraGroups_)},parse:function(a){this.matchExtraGroups_=Boolean(a)}},
sortBy:{suppress:function(){return"lastModificationDate"==this.sortBy_},print:function(a){a.string(this.sortBy_)},parse:function(a){this.sortBy_=a}},ascendingOrder:{suppress:function(){return!this.ascendingOrder_},print:function(a){a[C](this.ascendingOrder_)},parse:function(a){this.ascendingOrder_=Boolean(a)}},startIndex:{suppress:function(){return 0>this.startIndex_},print:function(a){a.number(this.startIndex_)},parse:function(a){this.startIndex_=k(a)}},numResults:{suppress:function(){return 0>this.numResults_},
print:function(a){a.number(this.numResults_)},parse:function(a){this.numResults_=k(a)}},continuationToken:{suppress:function(){return!this.continuationToken_},print:function(a){a.string(this.continuationToken_)},parse:function(a){this.continuationToken_=a}},setContinuationTokenInResponse:{suppress:function(){return!this.continuationTokenInResponse_},print:function(a){a[C](this.continuationTokenInResponse_)},parse:function(a){this.continuationTokenInResponse_=Boolean(a)}},minTimestamp:{suppress:function(){return!this.minTimestamp_},
print:function(a){a.number(this.minTimestamp_)},parse:function(a){this.minTimestamp_=k(a)}},maxTimestamp:{suppress:function(){return!this.maxTimestamp_},print:function(a){a.number(this.maxTimestamp_)},parse:function(a){this.maxTimestamp_=k(a)}},includeNickNames:{suppress:function(){return!this.includeNickNames_},print:function(a){a[C](this.includeNickNames_)},parse:function(a){this.includeNickNames_=Boolean(a)}},qualityScore:{suppress:function(){return!this.qualityScore_},print:function(a){a.number(this.qualityScore_)},
parse:function(a){this.qualityScore_=k(a)}},comparisonType:{suppress:function(){return!this.comparisonType_},print:function(a){a.number(this.comparisonType_)},parse:function(a){this.comparisonType_=k(a)}},language:{suppress:function(){return!this.language_},print:function(a){a.string(this.language_)},parse:function(a){this.language_=a}},moderatorId:{suppress:function(){return!this.moderatorId_},print:function(a){a.string(this.moderatorId_)},parse:function(a){this.moderatorId_=a}},UserFeedbackRestrict:{suppress:function(){return!this.userFeedbackRestrict_},
print:function(a){this.userFeedbackRestrict_[A](a)},parse:function(a){this.userFeedbackRestrict_.parseFromObject(a)}}}};var me=function(){},ne=null;var S=function(){},oe="http://www.google.com";"https://"==ba.URL[Ma](0,8)&&(oe="https://www.google.com");S[u].ZFE_ABSOLUTE_URI_PREFIX=oe;S[u].createServerChannel=function(){};S.singleton_=null;S[u].absoluteUriPrefix=function(){return S[u].ZFE_ABSOLUTE_URI_PREFIX};S[u].setAbsoluteUriPrefix=function(a){"/"!=a[a[F]-1]?S[u].ZFE_ABSOLUTE_URI_PREFIX=a:2<a[F]&&(S[u].ZFE_ABSOLUTE_URI_PREFIX=a[Ma](0,a[F]-1))};S[u].getImagePath=function(a){ne||(ne=new me);return"/reviews/images/"+a};S.getSingleton=function(){return S.singleton_};var pe=function(a){this.channel_=a;this.referrer_=null},qe=null,re=function(){qe||(qe=new pe(S.getSingleton().createServerChannel()));return qe};pe[u].setReferrer=function(a){this.referrer_=a};pe[u].channel=function(){return this.channel_};pe[u].setArguments_=function(a){this.referrer_&&a.setArgument("referrer",this.referrer_)};na(pe[u],function(a,b){this.setArguments_(a);a[Ra](this.channel_,b)});var se=function(a,b){this.updateStatus_=a;this.annotationData_=b};se[u].status=function(){return this.updateStatus_};se[u].data=function(){return this.annotationData_};var te=function(a,b){this.mapEventNameToListeners_=new Ad;this.entity_=a;this.data_=b;this.arrayUpdates_={}};N(te,Bd);J=te[u];J.entity=function(){return this.entity_};J.data=function(){return this.data_};J.setData=function(a){this.data_=a};J.addUpdate=function(a){var b=a.updateEventName();this.arrayUpdates_[b]=this.arrayUpdates_[b]||[];this.arrayUpdates_[b][D](a);this.notifyListeners(a.updateEventName(),a)};
J.coalesce=function(a){a=this.arrayUpdates_[a];for(var b=a[0].clone(),c=1;c<a[F];++c)b.add(a[c]);return b};J.clear=function(){this.arrayUpdates_={}};J.clearUpdates=function(a){this.arrayUpdates_[a]=[]};J.hasUpdates=function(a){return this.arrayUpdates_[a]&&0<this.arrayUpdates_[a][F]};J.notifyImmediately_=function(a,b){"resetEvent"==b?a(this[Sa]()):this.hasUpdates(b)&&a(this.coalesce(b))};var ue=function(){Sd[r](this);this.annotationDataArray_=[];this.setUrl(Zd().paths().writeAnnotationsJSON);this.moderatorToken_=""};N(ue,ee);ue[u].addUpdate=function(a,b){var c=new Nd(a.entity());b&&c.labelSet_.copyFrom(b);c.applyUpdate(a);this.annotationDataArray_[D](c)};
ue[u].dictionary_=function(){return{annotations:{suppress:function(){return 0==this.annotationDataArray_[F]},print:function(a){a.objectArray(this.annotationDataArray_)},parse:function(a){this.annotationDataArray_=pd(a,Nd)}},moderatorToken:{suppress:function(){return""==this.moderatorToken_},print:function(a){a.string(this.moderatorToken_)},parse:function(a){this.moderatorToken_=a}}}};var ve=function(){this.user_=ie();this.user_.reset();this.mapEntityToUpdateList_=new Id("mapEntityToUpdateList",te,function(a){return a.entity().hashCode()});this.changeNotifier_=new Bd;this.issuePendingRequestsToZFE_=!1};N(ve,P);J=ve[u];J.lookupableEntitiesPresent=function(){return!!this.mapEntityToUpdateList_.findFirst(function(a,b){return b[Sa]().entity().isLookupable()})};J.removeAllUpdateLists=function(){this.mapEntityToUpdateList_.removeAll()};
J.updateListHelper_=function(a,b){var c=b.hashCode(),c=a[y](c);c||(c=null,b.isAnnotationEntity()?c=new Nd(b):b.isSearchEntity()&&(c=new je(b)),c=new te(b,c),c[Ya]("fetchRequest",K(this.onFetchUpdateReceived_,this)),c[Ya]("annotationRequest",K(this.onAnnotationUpdateReceived_,this)),c[Ya]("searchRequest",K(this.onSearchUpdateReceived_,this)),a.add(c));return c};J.updateList=function(a){return this.updateListHelper_(this.mapEntityToUpdateList_,a)};
J.fetchAll=function(){this.issuePendingRequestsToZFE_=!0;this.fetchAnnotations();this.searchAnnotations();this.issuePendingRequestsToZFE_=!1};J.fetchAnnotations=function(){if(this.issuePendingRequestsToZFE_&&this.lookupableEntitiesPresent()){var a=[];this.appendChanges(a,"fetchRequest");if(0!=a[F]){for(var b=new $d,c=0;c<a[F];++c)b.addUpdate(a[c]);re()[Ra](b,K(this.processLookupResult_,this))}}};
J.processLookupResult_=function(a,b){var c=new Pd;c.initFromRequestStatus(a,b);0==c[$a]()&&(this.parseFromObject(a),this.resetAllUpdateLists("fetchRequest"))};J.onFetchUpdateReceived_=function(a){var b=this.issuePendingRequestsToZFE_;a.urgent()&&(this.issuePendingRequestsToZFE_=!0);this.fetchAnnotations();this.issuePendingRequestsToZFE_=b};J.onAnnotationUpdateReceived_=function(a){this.changeNotifier_.notifyListeners("documentChanged",a)};
J.onSearchUpdateReceived_=function(a){var b=this.issuePendingRequestsToZFE_;a.urgent()&&(this.issuePendingRequestsToZFE_=!0);this.searchAnnotations();this.issuePendingRequestsToZFE_=b};J.addChangeListener=function(a){this.changeNotifier_[Ya]("documentChanged",a)};J.appendChanges=function(a,b){this.mapEntityToUpdateList_.forEachEntry(function(c,e){0<e.numListeners("resetEvent")&&e.hasUpdates(b)&&a[D](e.coalesce(b))})};
J.reset_=function(a,b){var c=this.mapEntityToUpdateList_[y](a.hashCode());c.notifyListeners("resetEvent",c[Sa]());c.clearUpdates(b)};J.resetAllUpdateLists=function(a){var b=this;this.mapEntityToUpdateList_.forEachEntry(function(c,e){b.reset_(e.entity(),a)})};J.applyUpdate=function(a){var b=a.entity().hashCode(),b=this.mapEntityToUpdateList_[y](b),c=b[Sa]();b[Sa]().applyUpdate(a);this.reset_(c.entity(),a.updateEventName())};
J.writeAnnotations=function(){var a=[];this.appendChanges(a,"annotationRequest");if(0!=a[F]){for(var b=new ue,c=0;c<a[F];++c){var e=a[c];e.notifyListeners("updateProcessing",e);var h=void 0;0<e.labelsToRemove_[kb]()&&(h=e.entity().hashCode(),h=this.mapEntityToUpdateList_[y](h),h=h[Sa]().labelSet_);b.addUpdate(e,h)}re()[Ra](b,K(this.processWriteAnnotationsReply_,this,a))}};
J.processWriteAnnotationsReply_=function(a,b,c){if(0==c[$a]()){for(b=0;b<a[F];++b){var e=a[b];this.applyUpdate(e)}for(b=0;b<a[F];++b){var e=a[b],h=e.entity().hashCode(),h=this.mapEntityToUpdateList_[y](h)[Sa](),h=new se(c,h);e.notifyListeners("updateProcessed",h)}}};
J.searchAnnotations=function(){if(this.issuePendingRequestsToZFE_){var a=[];this.appendChanges(a,"searchRequest");if(0!=a[F]){for(var b=new ke,c=0;c<a[F];++c){var e=a[c];b.addUpdate(e)}re()[Ra](b,K(this.processSearchAnnotationsReply_,this,b))}}};
J.processSearchAnnotationsReply_=function(a,b,c){if(0==c[$a]()){if(b.searchResults){var e=a.searchDataArray_;for(a=0;a<b.searchResults[F];a++)if(e[a].parseFromObject(b),b.searchResults[a].annotations)for(c=0;c<b.searchResults[a].annotations[F];c++){var h=new Nd;h.parseFromObject(b.searchResults[a].annotations[c]);var l=new Q;l.setAnnotation(h.entity());h.setEntity(l);l=this.updateList(l);l.setData(h);e[a].addUpdateList(l);l.notifyListeners("resetEvent",h);l.clearUpdates("searchRequest")}}for(a=0;a<
e[F];a++)l=e[a].entity(),l=this.updateList(l),l.setData(e[a]),this.reset_(e[a].entity(),"searchRequest");we().fetchAnnotations()}};J.reportAbuse=function(a,b){re()[Ra](a,K(this.processReportAbuseResult_,this,b))};J.processReportAbuseResult_=function(a,b,c){c[$a]();a(b,c)};
J.dictionary_=function(){return{user:{print:function(a){this.user_[A](a)},parse:function(a){this.user_.parseFromObject(a)}},annotations:{print:function(a){this.mapEntityToUpdateList_[A](a,function(b,c){c[Sa]()[A](a)})},parse:function(a){for(var b=0;b<a[F];++b){var c=a[b],e=new Dd;e.parseFromObject(c);c=this.updateList(e.entity());c[Sa]().applyUpdate(e)}}}}};var xe=function(){Sd[r](this);this.entityArray_=[];this.signature_=null};N(xe,Sd);xe[u].addEntity=function(a){this.entityArray_[D](a)};xe[u].setSignature=function(a){this.signature_=a};
xe[u].dictionary_=function(){return{entities:{suppress:function(){return 0==this.entityArray_[F]},print:function(a){a.objectArray(this.entityArray_)},parse:function(a){this.entityArray_=pd(a,Q)}},googleAppToken:{suppress:function(){return!this.signature_},print:function(a){a.string(this.signature_)},parse:function(a){this.signature_=a}}}};var ye=function(){this.annotationDocument_=new ve;this.annotationDocument_.addChangeListener(K(this.onDocumentChanged_,this))},ze=null,we=function(){ze||(ze=new ye);return ze};J=ye[u];J.setEntity=function(a,b){a.attachUpdateList(this.annotationDocument_.updateList(b));a.requestFetch()};
J.createGadget=function(a,b){var c=this.annotationDocument_.updateList(a.entity());a.setInitialValues(c[Sa]());var e=a.createGadget();e.attachUpdateList(c);e.setAnnotationDocument(this.annotationDocument_);a.attach(e,b);e.requestFetch();return e};J.removeAllUpdateLists=function(){this.annotationDocument_.removeAllUpdateLists()};J.fetchAnnotations=function(){this.annotationDocument_.fetchAll()};
J.deleteAnnotation=function(a,b,c){var e=new xe;e.addEntity(a);e.setSignature(b);a=function(a,b){c&&c(b)};re().sendWriteRequest(Zd().paths().deleteAnnotationsJSON,e,a)};J.onDocumentChanged_=function(){this.annotationDocument_.writeAnnotations()};var Ae=function(a){this.callback_=a};Ae[u].run=function(a){for(this.queue_=[a];this.queue_[F];)this.process_(this.queue_.shift())};Ae[u].process_=function(a){this.callback_(a);for(a=a[Ha];a;a=a[jb])1==a[eb]&&this.queue_[D](a)};function Be(a,b){var c=new Ae(b);c.run(a)}function T(a,b,c,e){if(!e){if(1!=a[eb])return null;e="class"==b?a[db]:a[wa](b);if(e==c)return a}e=null;for(a=a[Ha];!e&&a;a=a[jb])e=T(a,b,c,!1);return e}
function Ce(a,b){for(var c=a,e=0;c&&e<b[F];++e){var h=b[e],l;for(l in h)c&&(c=T(c,l,h[l],!1))}return c}function De(a){if(g.ActiveXObject){var b=ba.createEventObject();a.fireEvent("onmousedown",b)}else b=a[Ka].createEvent("MouseEvents"),b.initMouseEvent("mousedown",!0,!0,a[Ka].defaultView,1,0,0,0,0,!1,!1,!1,!1,0,a),a.dispatchEvent(b)}
function Ee(a){if(g.ActiveXObject){var b=ba.createEventObject();a.fireEvent("onclick",b)}else b=a[Ka].createEvent("MouseEvents"),b.initMouseEvent("click",!0,!0,a[Ka].defaultView,1,0,0,0,0,!1,!1,!1,!1,0,a),a.dispatchEvent(b)}function Fe(){return mb.navigator?mb.navigator.userAgent:null}function Ge(a){if(null==a)return"";if("#text"==a[Wa])return a[ta];var b="";for(a=a[Ha];a;a=a[jb])b="#text"==a[Wa]?b+a[ta]:b+Ge(a);return b}function He(a,b,c){a=T(ba.getElementById(a),b,c);return Ge(a)};var Ie=function(){this.registry_={}},Je=null,Ke=function(){Je||(Je=new Ie);return Je};Ie[u].addToRegistry=function(a,b){this.registry_[a]=b};Ie[u].lookupInRegistry=function(a){return this.registry_[a]};var Le=function(){this.numIFramesLoadedInParent_=this.numIFramesCreatedInParent_=this.numIFramesCreated_=0;this.mediatorInitialized_=this.loadJsApi_=!1},Me=null,Ne=function(){Me||(Me=new Le);return Me};J=Le[u];
J.initializeMediator=function(a){var b=Oe(),c=b.clearSilverHtmlUnescape(a.escapedReferrer);b.setReferrer(c);c=b.clearSilverHtmlUnescape(a.escapedDasherDomain);b.setDasherDomainForZFERequest(c);this.numIFramesCreatedInParent_=k(b.clearSilverHtmlUnescape(a.escapedNumTotalIFrames));R().setUserKey(a.escapedUserKey);R().setDomainRestricted("1"==a.escapedDomainRestricted?!0:!1);b.setInlineMode(!0);this.mediatorInitialized_=!0};
J.createCGIArgsFromObject_=function(a){var b=[],c;for(c in a){var e=a[c];O(e)||b[D](c+"="+Tc(e))}return b[p]("&")};
J.createWidgetInIFrame=function(a,b,c){this.numIFramesCreated_++;var e=c[za]()?Lc("iframe",{name:c[za]()}):ba.createElement("iframe");e[I]("frameborder","0");var h=a;if(c[Va]()||c[Za]())h+="Custom",c[Va]()&&e[I]("width",""+c[Va]()),c[Za]()&&e[I]("height",""+c[Za]());m(e,h);h=new od;h.setCompressedMode(!0);h=c[A](h);c.jsApi()&&(this.loadJsApi_=!0);a={widgetName:a,width:c[Va](),height:c[Za](),backgroundColor:c.backgroundColor(),referrer:ba.URL,jsApi:this.loadJsApi_?1:0,profiler:Pe.isNotNullProfiler()?
1:0,req:h};a=this.createCGIArgsFromObject_(a);e.src=this.iFrameWidgetBaseUrl_()+"?"+a;b[x](e)};
J.createMediatorIFrame=function(){if(0!=this.numIFramesCreated_){var a=Lc("iframe",{name:"__GOOG_ANNON_MEDIATOR"});fa(a[q],"none");var b={mediator:1,count:this.numIFramesCreated_,dasherDomain:R().dasherDomain_,appid:Oe().applicationId(),locale:Oe()[Pa](),noStaticGws:Oe().noStaticGws()?1:0,jsApi:this.loadJsApi_?1:0,profiler:Pe.isNotNullProfiler()?1:0,referrer:ba.URL,userKey:R().userKey(),domainRestricted:R().domainRestricted()?1:null},b=this.createCGIArgsFromObject_(b);a.src=this.iFrameWidgetBaseUrl_()+
"?"+b;ba[t][x](a)}};J.incrementNumIFramesLoadedInParent=function(){++this.numIFramesLoadedInParent_;this.issueFetchIfAllIFramesHaveLoaded_()};J.issueFetchIfAllIFramesHaveLoaded_=function(){this.numIFramesLoadedInParent_==this.numIFramesCreatedInParent_&&Oe().fetchAnnotations()};J.iFrameWidgetBaseUrl_=function(){return S.getSingleton().absoluteUriPrefix()+"/reviews/widgets"};var U=function(){};U[u].inlineMode=function(){return R().inlineMode()};var Qe=!1;J=U[u];J.getAnnotationGadgetParams=function(a,b){var c=0==a[z]("google.annotations")?a[ya](19):a,c=Ke().lookupInRegistry(c);if(!c)return null;var e=b?new Gc(b):null;return new c(e)};
J.assignValueToPath=function(a,b,c){var e=a;b=b[n](".");for(var h=0;h<b[F];++h){for(var l=b[h],l=l[n]("-"),v=l[0],w=1;w<l[F];++w){var G=l[w];if(0<G[F])var V=G[Na](0),G=G[ya](1),v=v+(V.toUpperCase()+G)}l=v;h==b[F]-1?e[l]=c:(void 0==e[l]&&(e[l]={}),e=e[l])}return a};J.createParamsFromDOMNode=function(a){for(var b={},c=0;c<a.attributes[F];++c){var e=a.attributes[xa](c),h="g:",l=e[za][z](h);0==l&&(h=e[za][ua](h[F]),e=e[y],this.assignValueToPath(b,h,e))}return b};
J.createWithinDOMNode=function(a,b,c,e){if(!Qe){Qe=!0;var h='zzIFramePanelAverageStarRating{height:40px;width:120px}zzIFramePanelRatingEditor,zzIFramePanelRatingDisplay{height:30px;width:100px}zzIFramePanelVotingEditor,zzIFramePanelVotingDisplay{height:30px;width:100px}zzIFramePanelAnnotationPanel{height:130px;width:460px}zzIFramePanelNumRating{height:25px;width:100px}zzIFramePanelRatingPanel{height:60px;width:300px}textarea.zzTextEditor,textarea.zzTextEditorSaving,textarea.zzTextEditorSaved{font-family:arial,sans-serif;font-size:12px;height:4em;width:100%;margin-bottom:4px}textarea.zzTextEditor{background-color:#fff}textarea.zzTextEditorSaving{background-color:azure}textarea.zzTextEditorSaved{background-color:azure}a.zzCommentPanelEditLink{text-decoration:underline;cursor:pointer}a.zzCommentPanelDeleteLink{text-decoration:underline;cursor:pointer;margin-left:10px}table.zzCommentPanelGadget{font-family:arial,helvetica,sans-serif;font-size:83%}input.zzCommentPanelGadgetSaveButton{font-weight:bold}input.zzCommentPanelGadgetCancelButton{margin-left:12px}td.zzCommentPanelMessageBox{color:red}span.zzVotingEdit{}span.zzVotingDisplay{}span.zzVotingEdit span.zzVoteAffirmative{text-decoration:underline;cursor:pointer}span.zzVotingEdit span.zzVoteAffirmativeActive{text-decoration:underline;cursor:pointer;font-weight:bold}span.zzVotingEdit span.zzVoteNegative{text-decoration:underline;cursor:pointer}span.zzVotingEdit span.zzVoteNegativeActive{text-decoration:underline;cursor:pointer;font-weight:bold}span.zzVotingDisplay span.zzVoteAffirmative{display:none}span.zzVotingDisplay span.zzVoteAffirmativeActive{display:inline}span.zzVotingDisplay span.zzVoteNegative{display:none}span.zzVotingEdit span.zzVoteNegativeActive{display:inline}ul.zzRatingDescription{list-style-type:none;display:inline}ul.zzRatingDescriptionTemplate{display:none}ul.zzRatingDescription li.zzRatingText{display:none}ul.zzRatingDescription li.zzRatingTextActive{display:inline}span.zzRatingDescription{font-family:arial,sans-serif}span.zzAggregateRatingStat{}span.zzAggregateRatingStatDescriptionText{margin-left:5px}span.zzRatingEdit img.zzLeftEdge{width:17px;height:16px;margin:0;padding:0;display:inline}span.zzRatingEdit img.zzLeftEdgeHidden{width:17px;height:16px;margin:0;padding:0;display:none}span.zzRatingEdit img.zzCancel{width:17px;height:16px;margin:0;padding:0;display:inline}span.zzRatingEdit img.zzCancelHidden{width:17px;height:16px;margin:0;padding:0;display:none}span.zzRatingEdit img.zzStar{width:11px;height:16px;margin:0;padding:0;display:inline}span.zzRatingEdit img.zzRightEdge{width:5px;height:16px;margin:0;padding:0;display:inline}span.zzRatingDisplay img.zzStar{width:10px;height:9px;margin:0;padding:0;display:inline}table.zzRatingPanel{font-family:arial,sans-serif;font-size:13px}table.zzRatingPanel span.zzRatingDescription{padding-left:18px}table.zzRatingPanel span.zzAggregateRatingStat,table.zzRatingPanel span.zzAggregateRatingStatDescription{color:#6F6F6F}table.zzRatingPanel td.zzAggregateRating{text-align:center}span.zzAggregateRating img.zzStar{width:16px;height:15px;margin:0;padding:0;display:inline}span.zzAggregateRating img.zzSmallStar{width:10px;height:9px;margin:0;padding:0;display:inline}div.zzCommentThreadGadget,div.zzCodeCommentThreadGadget{padding:0;padding-left:5px;padding-right:5px;background:#eff3f9;border:0;display:block}div.zzCodeCommentThreadGadget{border:0 solid #ccc;width:100%;background:#fff;background-color:#fff;padding:2px}div.zzCommentThreadSeparator,div.zzCodeCommentThreadSeparator{border-bottom:1px solid #aaa;height:1px;width:100%}div.zzCodeCommentThreadSeparator{border-bottom:0 solid #aaa}div.zzCommentList{padding:4px;overflow:auto;width:99%;height:auto;background:#eff3f9;border-bottom:0;margin-bottom:2px}div.zzCodeCommentList{padding:4px;background:#fff;background-color:#fff;border-bottom:0;margin-bottom:2px;overflow:auto}div.zzCommentListLoading{font-size:medium}div.zzCommentListPagination{background:#eee;border:1px solid gray;float:left;margin-top:5px;padding:2px 6px}div.zzCommentListPaginationMessage{float:left}div.zzCommentListNavLink{color:#00f;cursor:default;margin-left:8px;text-decoration:underline}div.zzCommentDisplay{padding-top:4px;padding-bottom:4px;border-bottom:1px solid #aaa;width:100%}span.zzCommentAuthorName{color:#000}p.zzCommentDisplayTimestampSpamLink{margin-bottom:2px;margin-top:2px}span.zzCommentDisplayTimestamp{color:green;margin-right:10px}span.zzReportSpamLink{color:#00f;cursor:default;text-decoration:underline}span.zzHideAnnotationLink{color:#00f;cursor:default;text-decoration:underline;margin-left:10px}div.zzCommentPoster{margin-bottom:4px;width:100%}div.zzCommentPosterSignInLink{}div.zzCommentPosterCollapseLink{color:#00f;cursor:default;padding-bottom:2px;text-decoration:underline}img.zzCommentPosterCollapseLinkImage{margin-right:3px}div.zzTabBar{background-color:#fff;display:block;padding:6px}div.zzTab,div.zzTabSelected{display:inline;padding:2px;margin:0;border:1px solid #c5d7ef;padding-left:4px;padding-right:4px;cursor:pointer;color:#36c;font-weight:bold}div.zzTab{background-color:#e5ecf9}div.zzTabSelected{background-color:#fff;border-bottom:0}div.zzTabSpacer,div.zzTabEndSpacer{display:inline;background-color:#fff;cursor:default;font-weight:bold;padding:2px;border:0;border-bottom:1px solid #c5d7ef}span.zzNumUsersFoundThisHelpful{display:none}span.zzNumUsersFoundThisHelpfulActive{display:inline}.zzLinkGadgetUI{color:#00c;text-decoration:underline;cursor:pointer}.zzLinkGadgetUINoLink{}.zzSearchResultsGadgetResults{padding:2px}.zzSearchResultsGadgetMessage{padding:2px}.zzBookUserReviewLayoutDescriptorContainer{margin:15px 20px 20px;border-collapse:collapse}.zzBookUserReviewLayoutDescriptorLineBreak{display:block;padding:5px}.zzBookThumbnailGadgetBoxeyBrown{float:left;height:193px;margin:7px 10px 5px 7px;text-align:center}.zzBookThumbnailGadgetDsb{background:#fff url(http://books.google.com/googlebooks/images/cover_shadow_bg.gif) no-repeat scroll right bottom;display:table-cell;float:left;margin:0;padding:0;position:relative}.zzBookThumbnailGadgetCornerT{background:transparent url(http://books.google.com/googlebooks/images/cover_shadow_topright.gif) no-repeat scroll right top;height:14px;position:absolute;right:0;top:0;width:14px}.zzBookThumbnailGadgetCornerB{background:transparent url(http://books.google.com/googlebooks/images/cover_shadow_bottomleft.gif) no-repeat scroll left bottom;bottom:0;height:12px;left:0;position:absolute;width:12px}.zzBookThumbnailGadgetCa{border:0 none;left:-7px;margin:0;position:relative;top:-7px}.zzBookThumbnailGadgetCal{background-color:#fff;border:1px solid #808080;margin:0;padding:0}.zzBookThumbnailGadgetImage{border:0}.zzBookThumbnailGadgetFCWrap{border:1px solid #808080;background:#00245D url(http://books.google.com/googlebooks/images/blue_leather_medium.gif) no-repeat scroll right bottom}.zzBookThumbnailGadgetFC{font-family:Georgia,"Times New Roman",Serif;font-size:12px;height:188px;margin:0 auto;overflow:hidden;padding:0;position:relative;width:133px}.zzBookThumbnailGadgetFC a:link,.zzBookThumbnailGadgetFC a:visited,.zzBookThumbnailGadgetFC a:active{font-family:Georgia,"Times New Roman",Serif;font-weight:normal;color:#b4947e;text-decoration:none}.zzBookThumbnailGadgetFCLink{height:188px;left:0;position:absolute;top:0;width:133px;z-index:3}.zzBookThumbnailGadgetFCTable{border:0;height:188px;width:133px}.zzBookThumbnailGadgetFCTableData{vertical-align:middle;text-align:center}.zzBookThumbnailGadgetFCContents{border:0 none;display:block;padding:5px 12px 5px 18px;font-family:Georgia,"Times New Roman",Serif;font-weight:normal;text-decoration:none;color:#b4947e}.zzBookThumbnailGadgetFCTitleText,.zzBookThumbnailGadgetFCSeparatorText,.zzBookThumbnailGadgetFCAuthorsText{overflow:hidden;text-decoration:none;width:103px;word-wrap:break-word}div.zzBookThumbnailGadgetFCTitleText{font-size:14px}div.zzBookThumbnailGadgetFCSeparatorText{font-size:20px;margin:6px 0 5px 0}div.zzBookThumbnailGadgetFCAuthorsText{font-size:10px}.zzBookMetadataGadgetBookTitle{color:#00c};.zzTitleGadgetLink{color:#00c;text-decoration:underline;cursor:pointer}.zzNicknameGadgetLink{color:#00c;text-decoration:underline;cursor:pointer}.zzReadReviewGadgetImage{margin-left:3px;margin-right:3px;cursor:pointer}.zzReadReviewGadgetLink{color:#00c;text-decoration:underline;cursor:pointer}.zzRecentReviewsGadgetContainer{border-collapse:collapse}.zzRecentReviewsGadgetFooter{color:#00c;padding:2px}.zzRecentReviewsGadgetPrevNext{padding:2px;text-align:right}.zzPrevNextGadgetPrev{text-decoration:underline;cursor:pointer;padding:2px}.zzPrevNextGadgetNext{text-decoration:underline;cursor:pointer;padding:2px}.zzCommentSnippetGadgetCommentText{}.zzCodeCommentDisplaySearchResult{font-size:small;padding:5px}.zzCodeCommentDisplaySearchResultHeading{}.zzCodeCommentDisplaySearchResultHeading .zzLinkGadgetUI{color:#00f}.zzCodeCommentDisplaySearchResultHeading .zzLinkGadgetUINoLink{color:#000}.zzCodeCommentDisplaySearchResultHeading .zzTextEditorReadOnly{padding:15px}.zzCodeCommentDisplayWasThisHelpful{padding-left:15px;color:gray}.zzCodeCommentDisplaySearchResultHeading .zzTextEditorReadOnly{white-space:pre}.zzTitleAndCommentEditorGadget{background:#fff;border:none;margin:1em 0 0;font-size:small;color:gray}.zzTitleAndCommentEditorGadget .zzTextEditor{width:400px;color:#000}.zzTextDisplayGadgetContainer{}',
l=Hc(void 0),v=null,w=l.document_;if(rc&&w.createStyleSheet)l=v=w.createStyleSheet(),rc&&void 0!==l.cssText?l.cssText=h:l.innerHTML=h;else{w=l.getElementsByTagNameAndClass("HEAD")[0];w||(v=l.getElementsByTagNameAndClass("BODY")[0],w=l.createDom("HEAD"),v[Fa].insertBefore(w,v));var G=v=l.createDom("STYLE");rc&&void 0!==G.cssText?G.cssText=h:G.innerHTML=h;l[x](w,v)}}e=this.getAnnotationGadgetParams(a,e);if(!e)return null;e.parseFromObject(c);R().widgetsOnPage_[a]=!0;return e.createInline()?we().createGadget(e,
b):Ne().createWidgetInIFrame(a,b,e)};J.initFromCGIArgs=function(){var a=g[E].annotations.LoadArgs;if(a){var b=a[sa](/appid=([0-9]+)/);b&&Oe().setApplicationId(b[1]);(a=a[sa](/hl=([a-zA-Z-]+)/))&&Oe().setLocale(a[1])}};J.createWidget_=function(a,b,c,e){var h=e||g[H];return(b="string"==typeof b?h.getElementById(b):b)?this.createWithinDOMNode(a,b,c,e):null};J.create=function(a,b,c){return this.createWidget_(a,b,c)};
J.createWidgetInIFrame=function(a,b,c,e){if(!Ne().mediatorInitialized_)return!1;this.createWidget_(a,b,c,e);Ne().incrementNumIFramesLoadedInParent();return!0};J.createFromDOMNode=function(a,b){this.getAnnotationGadgetParams(a);var c=this.createParamsFromDOMNode(b);return this.createWithinDOMNode(a,b,c)};
J.createAll=function(a){this.removeAllUpdateLists();var b=[],c=[];a=a||ba[t];Be(a,function(a){if("DIV"==a.tagName||"SPAN"==a.tagName){var h=a[wa]("g:type");h&&(b[D](a),c[D](h))}});for(a=0;a<b[F];++a)this.createFromDOMNode(c[a],b[a])};J.fetchAnnotations=function(){we().fetchAnnotations();Ne().createMediatorIFrame()};J.removeAllUpdateLists=function(){we().removeAllUpdateLists()};J.deleteAnnotation=function(a,b,c){var e=new Q;e.parseFromObject(a);we().deleteAnnotation(e,b,c)};
J.setEntity=function(a,b){var c=new Q;c.parseFromObject(b);we().setEntity(a,c)};J.setInlineMode=function(a){R().setInlineMode(a)};J.setDasherDomainForZFERequest=function(a){R().setDasherDomainForZFERequest(a)};J.applicationId=function(){return R().applicationId()};J.setApplicationId=function(a){R().setApplicationId(a)};J.locale=function(){return R()[Pa]()};J.setLocale=function(a){R().setLocale(a)};J.noStaticGws=function(){return R().noStaticGws()};J.setNoStaticGws=function(a){R().setNoStaticGws(a)};
J.setReferrer=function(a){re().setReferrer(a)};J.clearSilverHtmlUnescape=function(a){a=a[B](Uc,"&");a=a[B](Vc,"<");a=a[B](Wc,">");a=a[B](Xc,'"');return a=a[B](Yc,"'")};var Re=null,Oe=function(){Re||(Re=new U);return Re},W=function(a,b,c){c=K(c,Oe());a[b]=c};U[u].setDomainRestricted=function(a){R().setDomainRestricted(a)};W(g[E].annotations,"setInlineMode",U[u].setInlineMode);W(g[E].annotations,"setDasherDomain",U[u].setDasherDomainForZFERequest);W(g[E].annotations,"setApplicationId",U[u].setApplicationId);
W(g[E].annotations,"locale",U[u][Pa]);W(g[E].annotations,"setLocale",U[u].setLocale);W(g[E].annotations,"noStaticGws",U[u].noStaticGws);W(g[E].annotations,"setNoStaticGws",U[u].setNoStaticGws);W(g[E].annotations,"create",U[u].create);W(g[E].annotations,"createAll",U[u].createAll);W(g[E].annotations,"fetch",U[u].fetchAnnotations);W(g[E].annotations,"deleteAnnotation",U[u].deleteAnnotation);W(g[E].annotations,"setEntity",U[u].setEntity);W(g[E].annotations,"flush",U[u].removeAllUpdateLists);
W(g[E].annotations,"setReferrer",U[u].setReferrer);W(g[E].annotations,"setAbsoluteUriPrefix",S[u].setAbsoluteUriPrefix);W(g[E].annotations,"setDomainRestricted",U[u].setDomainRestricted);g[E].annotations.locate=T;g[E].annotations.locateByPath=Ce;g[E].annotations.simulateMouseDown=De;g[E].annotations.simulateClick=Ee;g[E].annotations.getBrowser=Fe;g[E].annotations.getText=He;var Se=K(U[u].createWidgetInIFrame,Oe());nb("google.annotations.internal.createWidgetInIFrame",Se,void 0);
var Te=K(Le[u].initializeMediator,Ne());nb("google.annotations.internal.initializeMediator",Te,void 0);var Ue=K(U[u].initFromCGIArgs,Oe());nb("google.annotations.internal.initFromCGIArgs",Ue,void 0);var Ve=K(td[u].setUserKey,R());nb("google.annotations.internal.setUserKey",Ve,void 0);var We={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",
darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",
ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",
lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",
moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",
seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};var af=function(a){var b={};a=ea(a);var c="#"==a[Na](0)?a:"#"+a;if(Xe[ab](c)){a=c;if(!Xe[ab](a))throw da("'"+a+"' is not a valid hex color");4==a[F]&&(a=a[B](Ye,"#$1$1$2$2$3$3"));a=a[gb]();b.hex=a;oa(b,"hex");return b}a:{var e=a[sa](Ze);if(e){var c=k(e[1]),h=k(e[2]),e=k(e[3]);if(0<=c&&255>=c&&0<=h&&255>=h&&0<=e&&255>=e){c=[c,h,e];break a}}c=[]}if(c[F]){h=c[0];a=c[1];c=c[2];h=k(h);a=k(a);c=k(c);if(isNaN(h)||0>h||255<h||isNaN(a)||0>a||255<a||isNaN(c)||0>c||255<c)throw da('"('+h+","+a+","+c+'") is not a valid RGB color');
h=$e(h[bb](16));a=$e(a[bb](16));c=$e(c[bb](16));a="#"+h+a+c;b.hex=a;oa(b,"rgb");return b}if(We&&(c=We[a[gb]()]))return b.hex=c,oa(b,"named"),b;throw da(a+" is not a valid color string");},Ye=/#(.)(.)(.)/,Xe=/^#(?:[0-9a-f]{3}){1,2}$/i,Ze=/^(?:rgb)?\((0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2})\)$/i,$e=function(a){return 1==a[F]?"0"+a:a};var bf=function(){this.onSaved_=""};N(bf,P);J=bf[u];J.onSaved=function(){return this.onSaved_};J.setOnSaved=function(a){this.onSaved_=a};J.configure=function(a){this.registerHandler_(a,this.onSaved(),"updateProcessed")};J.registerHandler_=function(a,b,c){b&&(b=g[b])&&a.addExternalListener(c,b)};J.dictionary_=function(){return{onSaved:{suppress:function(){return!this.onSaved_},print:function(a){a.string(this.onSaved_)},parse:function(a){this.onSaved_=a}}}};var cf=function(a){this.mapEventNameToListeners_=new Ad;this.dom_=a||Hc();this.updateList_=null;this.updateListEvents_={};this.uiGadget_=null;this.styles_={};this.annotationDocument_=null};N(cf,Bd);J=cf[u];J.dom_=null;J.getDomHelper=function(){return this.dom_};J.requestFetch=function(){};J.setAnnotationDocument=function(a){this.annotationDocument_=a};J.attachUpdateList=function(a){this.updateList_&&this.removeAllListeners();this.updateList_=a;this.addAllListeners()};
J.addExternalListener=function(a,b){this[Ya](a,function(a){a=a[Sa]();for(var e=[],h=0;5>h;++h)e[D](a.aggregateData().ratings()[Ga](h+1));b({url:a.entity().url(),starred:a.starred(),starRating:a.rating(),title:a.title(),comment:a.comment(),ratingHistogram:e,averageRating:a.aggregateData().ratings().average()})})};J.addAllListeners=function(){this.addUpdateListListener("resetEvent",K(this.display,this))};J.addUpdateListListener=function(a,b){this.updateListEvents_[a]=b;this.updateList_[Ya](a,b,!0)};
J.removeAllListeners=function(){for(var a in this.updateListEvents_)this.updateList_.removeListener(a,this.updateListEvents_[a])};J.entity=function(){return this.updateList_?this.updateList_.entity():null};J.updateList=function(){return this.updateList_};qa(J,function(){var a=this.entity(),a=a?a[bb]():"No entity set";return"ZipitGadget "+a});fa(J,function(){});
J.createAndInitUpdate=function(){var a=this.createUpdate();this.attributes_&&a.addAttributes(this.attributes_);a[Ya]("updateProcessing",K(this.onUpdateProcessingEvent_,this));a[Ya]("updateProcessed",K(this.onUpdateProcessedEvent_,this));return a};J.createUpdate=function(){};J.save=function(){this.uiGadget_&&this.uiGadget_.save()};J.onUpdateProcessingEvent_=function(){this.uiGadget_&&this.uiGadget_.saving()};
J.onUpdateProcessedEvent_=function(a){this.uiGadget_&&this.uiGadget_.saved();this.notifyListeners("updateProcessed",a)};J.setAllStyles=function(a){for(var b in a)this.styles_[b]=a[b]};J.setStyle=function(a,b){this.styles_[a]=b;this.uiGadget_&&this.uiGadget_.setStyle(a,b)};J.setRatingHistogram=function(){};J.setExternalStats=function(){};
var df=function(a){this.abbreviatedEntity_=!1;this.eventRegistration_=null;this.abbreviatedEvents_=!1;this.name_=this.customAttributes_=this.textColor_=this.fontSize_=this.fontFamily_=this.locale_=this.backgroundColor_=this.jsApi_=this.height_=this.width_=this.inlineMode_=null;this.domHelper_=a};N(df,P);J=df[u];J.entity=function(){this.entity_||(this.entity_=this.createEntity());return this.entity_};J.createEntity=function(){};J.preferredHeight=function(){return null};J.preferredWidth=function(){return null};
J.width=function(){return this.width_||this.preferredWidth()};J.height=function(){return this.height_||this.preferredHeight()};J.jsApi=function(){return this.jsApi_};J.backgroundColor=function(){return this.backgroundColor_};J.locale=function(){return this.locale_};J.name=function(){return this.name_};
J.configure_=function(a){if(this.backgroundColor_)try{var b=af(this.backgroundColor_);a.setStyle("backgroundColor",b.hex[ua](1))}catch(c){}this.fontFamily_&&a.setStyle("fontFamily",this.fontFamily_);this.fontSize_&&a.setStyle("fontSize",this.fontSize_);this.textColor_&&a.setStyle("textColor",this.textColor_);this.customAttributes_&&a.addAttributes(this.customAttributes_);this.eventRegistration_&&this.eventRegistration_.configure(a);return a};J.setInitialValues=function(){};J.attach=function(a,b){a.attach(b)};
J.createGadget=function(){return this.configure_(this.createGadget_())};J.createGadget_=function(){};
J.dictionary_=function(){return{events:{suppress:function(){return!this.eventRegistration_||this.abbreviatedEvents_},print:function(a){this.eventRegistration_[A](a)},parse:function(a){this.eventRegistration_=new bf;this.eventRegistration_.parseFromObject(a);this.abbreviatedEvents_=!1}},onSaved:{suppress:function(){return!this.eventRegistration_||!this.abbreviatedEvents_},print:function(a){a.string(this.eventRegistration_.onSaved())},parse:function(a){this.eventRegistration_||(this.eventRegistration_=
new bf);this.eventRegistration_.setOnSaved(a);this.abbreviatedEvents_=!0}},width:{suppress:function(){return null==this.width_},print:function(a){a.number(this.width_)},parse:function(a){this.width_=k(a)}},height:{suppress:function(){return null==this.height_},print:function(a){a.number(this.height_)},parse:function(a){this.height_=k(a)}},jsApi:{suppress:function(){return!this.jsApi_},print:function(a){a[C](this.jsApi_)},parse:function(a){this.jsApi_=!!bd(a,!1)}},backgroundColor:{suppress:function(){return null==
this.backgroundColor_},print:function(a){a.string(this.backgroundColor_)},parse:function(a){this.backgroundColor_=a}},fontFamily:{suppress:function(){return null==this.fontFamily_},print:function(a){a.string(this.fontFamily_)},parse:function(a){this.fontFamily_=a}},fontSize:{suppress:function(){return null==this.fontSize_},print:function(a){a.string(this.fontSize_)},parse:function(a){this.fontSize_=a}},textColor:{suppress:function(){return null==this.textColor_},print:function(a){a.string(this.textColor_)},
parse:function(a){this.textColor_=a}},locale:{suppress:function(){return null==this.locale_},print:function(a){a.string(this.locale_)},parse:function(a){this.locale_=a}},inline:{suppress:function(){return!this.inlineMode_},print:function(a){a[C](!!this.inlineMode_)},parse:function(a){this.inlineMode_=a&&"false"!=a}},attributes:{suppress:function(){return!this.customAttributes_},print:function(a){this.customAttributes_[A](a)},parse:function(a){this.customAttributes_=new vd;this.customAttributes_.parseFromInput(a)}},
name:{suppress:function(){return!0},print:function(a){a[C](!!this.name_)},parse:function(a){this.name_=a}},languageOfAnnotation:{suppress:function(){return!R().languageOfAnnotation()},print:function(a){a.string(R().languageOfAnnotation())},parse:function(a){R().setLanguageOfAnnotation(a)}}}};J.createInline=function(){return null==this.inlineMode_?R().inlineMode():!!this.inlineMode_};var ef=function(a){cf[r](this,a);this.attributes_=void 0};N(ef,cf);J=ef[u];J.useOriginalEntity=function(a){return a&&a.annotation()||a};J.addAllListeners=function(){ef.superClass_.addAllListeners[r](this);this.addUpdateListListener("annotationRequest",K(this.onUpdateListChanged,this));this.addUpdateListListener("fetchRequest",K(this.onFetchUpdateAdded,this))};J.requestFetch=function(){var a=this.createFetchUpdate();this.updateList().addUpdate(a)};
J.createFetchUpdate=function(){var a=new ae(this.entity());a.setIncludeAggregateInfo(this.includeAggregateInfo());a.setIncludeMetadata(this.includeMetadata());a.setLabelHistogramSize(this.labelHistogramSize());a.setWeightedLabelHistogram(this.weightedLabelHistogram());return a};J.includeAggregateInfo=function(){return!1};J.labelHistogramSize=function(){return-1};J.includeMetadata=function(){return!1};J.weightedLabelHistogram=function(){return!1};J.createUpdate=function(){return new Dd(this.entity())};
J.addAttributes=function(a){this.attributes_||(this.attributes_=new vd);this.attributes_[La](a)};J.onUpdateListChanged=function(){};J.onFetchUpdateAdded=function(){};var ff=function(a){df[r](this,a);this.entity_=null};N(ff,df);ff[u].createEntity=function(){return new Q};
ff[u].dictionary_=function(){return{entity:{suppress:function(){return this.abbreviatedEntity_},print:function(a){this.entity()[A](a)},parse:function(a){this.entity().parseFromObject(a);this.abbreviatedEntity_=!1}},url:{suppress:function(){return!this.abbreviatedEntity_||!this.entity().url()},print:function(a){a.string(this.entity().url())},parse:function(a){this.entity().setUrl(a);this.abbreviatedEntity_=!0}},isbn:{suppress:function(){return!this.abbreviatedEntity_||!this.entity().isbn()},print:function(a){a.string(this.entity().isbn())},
parse:function(a){this.entity().setIsbn(a);this.abbreviatedEntity_=!0}},doc:{suppress:function(){return!this.abbreviatedEntity_||!this.entity().doc()},print:function(a){a.string(this.entity().doc())},parse:function(a){this.entity().setDoc(a);this.abbreviatedEntity_=!0}},user:{suppress:function(){return!this.abbreviatedEntity_||!this.entity().user()},print:function(a){a.string(this.entity().user())},parse:function(a){this.entity().setUser(a);this.abbreviatedEntity_=!0}},product:{suppress:function(){return!this.abbreviatedEntity_||
!this.entity()[hb]()},print:function(a){a.string(this.entity()[hb]())},parse:function(a){this.entity().setProduct(a);this.abbreviatedEntity_=!0}},id:{suppress:function(){return!this.abbreviatedEntity_||!this.entity().idDocStr_},print:function(a){a.string(this.entity().idDocStr_)},parse:function(a){this.entity().setIdDocStr(a);this.abbreviatedEntity_=!0}}}};var hf=function(a){ef[r](this,a);this.ratingHistogram_=new Hd;this.externalStats_=null};N(hf,ef);J=hf[u];J.setRatingHistogram=function(a){this.ratingHistogram_.copyFrom(a);this.refreshUI_()};J.setExternalStats=function(a){this.externalStats_||(this.externalStats_=new sd);this.externalStats_.copyFrom(a);this.refreshUI_()};J.includeAggregateInfo=function(){return!0};qa(J,function(){return"AggregateRatingBaseGadget "+this.entity()[bb]()});J.refreshUI_=function(){};J.attach=function(){};
fa(J,function(a){if(a=a?a.aggregateData():null)this.ratingHistogram_.copyFrom(a.ratings()),this.refreshUI_()});J.onUpdateListChanged=function(a){this.ratingHistogram_.applyUpdate(a)&&this.refreshUI_()};var jf=function(a){ff[r](this,a);this.optExternalStats_=this.optRatingHistogram_=null};N(jf,ff);
jf[u].configure_=function(a){jf.superClass_.configure_[r](this,a);this.optExternalStats_&&a.setExternalStats(this.optExternalStats_);this.optRatingHistogram_&&a.setRatingHistogram(this.optRatingHistogram_);return a};jf[u].setInitialValues=function(a){this.optRatingHistogram_&&a.aggregateData().ratings().copyFrom(this.optRatingHistogram_)};
jf[u].dictionary_=function(){return{starRatings:{suppress:function(){return!this.optRatingHistogram_},print:function(a){this.optRatingHistogram_[A](a)},parse:function(a){this.optRatingHistogram_=new Hd;this.optRatingHistogram_.parseFromObject(a)}},externalAggregateInfo:{suppress:function(){return!this.externalStats_},print:function(a){this.externalStats_[A](a)},parse:function(a){this.optExternalStats_=new sd;this.optExternalStats_.parseFromObject(a)}}}};var X=function(a){return g[E].annotations.messages[a]},kf=X(61),lf=X(6),mf=X(7),nf=X(8),of=X(9),pf=X(10),qf=X(21),rf=X(25),sf=X(26),tf=X(27),uf=X(28),vf=X(29),wf=X(30),xf=X(31),yf=X(32),zf=X(33),Af=X(43),Bf=X(44);var Cf=function(a,b,c,e){hf[r](this,e);this.ratingRangeMin_=a;this.ratingRangeMax_=b;this.value_=0;this.node_=this.getDomHelper().createDom("span");m(this.node_,"zzAggregateRatingStat");this.descriptionNode_=null;c&&(this.descriptionNode_=this.getDomHelper().createDom("span"),m(this.descriptionNode_,"zzAggregateRatingStatDescription"));this.displayValueForced_(this.value_)};N(Cf,hf);var Df=[lf,mf,nf,of];J=Cf[u];qa(J,function(){return"AggregateRatingStatsGadget "+this.entity()[bb]()});
J.refreshUI_=function(){var a=this.externalStats_?this.externalStats_.combinedRatingsInInterval(this.ratingHistogram_,this.ratingRangeMin_,this.ratingRangeMax_):this.ratingHistogram_.totalRatingsInInterval(this.ratingRangeMin_,this.ratingRangeMax_);this.value_!=a&&(this.value_=a,this.displayValueForced_(this.value_),this.notifyListeners("valueChanged",this.value_))};J.displayValueForced_=function(a){pa(this.node_,""+a);this.descriptionNode_&&(this.descriptionNode_.innerHTML="&nbsp;"+this.textDescription_(a))};
J.textDescription_=function(a){return a>=Df[F]?pf:Df[a]};J.attach=function(a){a[x](this.node_);ad(this.styles_,this.node_);this.descriptionNode_&&(ad(this.styles_,this.descriptionNode_),a[x](this.descriptionNode_))};J.notifyImmediately_=function(a,b){"valueChanged"==b&&a(this.value_)};var Ef=function(a){jf[r](this,a);this.ratingRangeMin_=1;this.ratingRangeMax_=5;this.displayTextDescription_=!0};N(Ef,jf);Ef[u].preferredWidth=function(){return 100};Ef[u].preferredHeight=function(){return 25};
Ef[u].createGadget_=function(){return new Cf(this.ratingRangeMin_,this.ratingRangeMax_,this.displayTextDescription_,this.domHelper_)};
Ef[u].dictionary_=function(){return{ratingRangeMin:{suppress:function(){return 1==this.ratingRangeMin_},print:function(a){a.number(this.ratingRangeMin_)},parse:function(a){this.ratingRangeMin_=k(a)}},ratingRangeMax:{suppress:function(){return 5==this.ratingRangeMax_},print:function(a){a.number(this.ratingRangeMax_)},parse:function(a){this.ratingRangeMax_=k(a)}},displayTextDescription:{print:function(a){a[C](this.displayTextDescription_)},parse:function(a){this.displayTextDescription_=a&&"false"!=
a}}}};Ke().addToRegistry("NumRatings",Ef);var Ff=function(a){this.mapEventNameToListeners_=new Ad;this.dom_=a||Hc();this.saving_=this.hasBeenAttached_=!1;this.styles_={}};N(Ff,Bd);J=Ff[u];J.dom_=null;J.getDomHelper=function(){return this.dom_};J.createRootDOMNode=function(){};J.save=function(){};J.saving=function(){this.saving_||(this.saving_=!0,this.startSavingUI_())};J.saved=function(){var a=this;this.saving_=!1;this.finishSavingUI_();var b=this.getSavedTimeout_();0>=b?this.tearDownSavedUI_():g[Ia](function(){a.tearDownSavedUI_()},b)};
J.getSavedTimeout_=function(){return 0};J.startSavingUI_=function(){};J.finishSavingUI_=function(){};J.tearDownSavedUI_=function(){};J.style=function(a){return this.styles_[a]};J.setStyle=function(a,b){this.styles_[a]=b};J.getImageFilenameWithBackground_=function(a){var b=this[q]("backgroundColor");if(!b)return a;var c=a[n](".");return 2!=c[F]||"gif"!=c[1]?a:c[0]+"-"+b+"."+c[1]};
J.getImagePath_=function(a){var b=this[q]("backgroundColor")||"";return Gf[u].staticGwsUrlForImageWithBackgroundColor(a,b)||S.getSingleton().getImagePath(this.getImageFilenameWithBackground_(a))};var Hf=function(a,b,c){Ff[r](this,c);this.textNode_=null;this.value_=O(a)?0:a;this.displayValue_=a;this.ratingStyles_=b;this.hasBeenAttached_=!1;this.node_=this.createRootDOMNode()};N(Hf,Ff);J=Hf[u];J.createRootDOMNode=function(){return this.getDomHelper().createDom("span")};J.showDisplay=function(a){fa(this.node_[q],a?"inline":"none")};J.setStyles=function(a){this.ratingStyles_=a};
J.attach=function(a,b,c){m(this.node_,this.ratingStyles_[q]);ad(this.styles_,this.node_);a[x](this.node_);this.createRatingNodes_(this.node_,this.onRatingClicked_,this.onRatingMouseOver_);this.bindMouseOutEvent_();b&&this.attachTextNode_(b,c);this.hasBeenAttached_=!0;this.displayRating_(this.value_)};J.createRatingNodes_=function(){};J.bindMouseOutEvent_=function(){var a=this;Zc(this.node_,"mouseout",function(){a.revertDisplay_()})};J.attachTextNode_=function(){};ia(J,function(){return this.value_});
J.setValue=function(a){a!=this.value_&&(this.value_=a,this.displayRating_(a),this.notifyListeners("valueChanged",this.value_))};J.displayRating_=function(){};J.onRatingMouseOver_=function(a){this.displayRating_(a,!0)};J.onRatingClicked_=function(a){this.setValue(a)};J.revertDisplay_=function(){this.displayRating_(this.value_)};var Gf=function(){},If={ffffff:!0,eff3f9:!0};Gf[u].staticGwsUrlForImageWithBackgroundColor=function(a,b){var c=0==b[F]?"ffffff":b;if(!If[c])return null;var e=S.getSingleton().absoluteUriPrefix(),e=0==e[gb]().lastIndexOf("https://",0)?"https://www.google.com":"http://www.google.com";return[e,"apps/reviews/img/v1",c,a][p]("/")};var Nf=function(a,b,c){Hf[r](this,a,b?Jf:Kf,c);this.displayOnly_=b;this.textStyles_=Lf;this.cancelNode_=this.leftEdgeNode_=null;this.arrayStarNode_=[];this.arrayTextDescriptions_=Mf;dd(R()[Pa]())&&(a=Kf,a.leftEdge.image.inactive="rate_it_pill_left_rtl.gif",a.rightEdge.image.inactive="rate_it_pill_right_rtl.gif",a[lb].image.active="rate_it_pill_cancel_on_rtl.gif",a[lb].image.inactive="rate_it_pill_cancel_off_rtl.gif");if(b)this.node_[I]("role","img");else this.node_[I]("tabindex","0"),this.node_[I]("role",
"slider"),this.node_[I]("aria-valuemin","0"),this.node_[I]("aria-valuemax",5),Zc(this.node_,"keydown",K(function(a){37==a.keyCode&&0<this[y]()?this.setValue(this[y]()-1):39==a.keyCode&&5>this[y]()&&this.setValue(this[y]()+1)},this))};N(Nf,Hf);
var Kf={style:"zzRatingEdit",leftEdge:{image:{inactive:"rate_it_pill_left.gif"},style:{inactive:"zzLeftEdge",hidden:"zzLeftEdgeHidden"}},cancel:{image:{active:"rate_it_pill_cancel_on.gif",inactive:"rate_it_pill_cancel_off.gif"},style:{active:"zzCancel",inactive:"zzCancel",hidden:"zzCancelHidden"}},star:{image:{active:"rate_it_pill_star_on.gif",inactive:"rate_it_pill_star_off.gif"},style:{active:"zzStar",inactive:"zzStar"}},rightEdge:{image:{inactive:"rate_it_pill_right.gif"},style:{inactive:"zzRightEdge"}}},
Jf={style:"zzRatingDisplay",star:{image:{active:"small_star_full.gif",half:"small_star_half.gif",inactive:"small_star_empty.gif"},style:{active:"zzStar",inactive:"zzStar"}}},Lf={style:"zzRatingDescription",item:{active:"zzRatingTextActive",inactive:"zzRatingText"}},Mf=[xf,sf,tf,uf,vf,wf];J=Nf[u];J.getImageFilenameWithBackground_=function(a){var b=this[q]("backgroundColor");if(!b)return a;var c=a[n](".");return 2!=c[F]||"gif"!=c[1]?a:c[0]+"-"+b+"."+c[1]};
J.getImagePath_=function(a){var b=this[q]("backgroundColor")||"";return Gf[u].staticGwsUrlForImageWithBackgroundColor(a,b)||S.getSingleton().getImagePath(this.getImageFilenameWithBackground_(a))};J.attachTextNode_=function(a,b){this.textNode_=this.getDomHelper().createDom("span");m(this.textNode_,this.textStyles_[q]);ad(this.styles_,this.textNode_);b&&(this.arrayTextDescriptions_=this.appendSafeTextDescriptions_(b,[]));this.displayTextDescriptionForced_(this.value_);a[x](this.textNode_)};
J.appendSafeTextDescriptions_=function(a,b){for(var c=0,e=a[Ha];e&&6>c;e=e[jb])"LI"==e[Wa]&&(b[D](e.textContent),++c);return b};J.createImageNode_=function(a,b,c,e,h,l){var v=this,w=this.getDomHelper().createDom("img");a[x](w);c&&w[I]("zzLabel",c);m(w,b);l&&!this.displayOnly_&&Zc(w,"mouseover",function(){l[r](v,e)});h&&!this.displayOnly_&&Zc(w,"mousedown",function(){h[r](v,e)});return w};
J.createRatingNodes_=function(a,b,c){this.ratingStyles_.leftEdge&&(this.leftEdgeNode_=this.createImageNode_(a,this.ratingStyles_.leftEdge[q].inactive,"leftEdge",null,null,null),this.leftEdgeNode_.src=this.getImagePath_(this.ratingStyles_.leftEdge.image.inactive));for(var e=this.ratingStyles_[lb]?0:1;5>=e;++e){var h=0==e?this.ratingStyles_[lb][q].inactive:this.ratingStyles_.star[q].inactive,l=0==e?"cancel":"star"+e,h=this.createImageNode_(a,h,l,e,b,c);h.ratingIndex=e;0==e?this.cancelNode_=h:this.arrayStarNode_[D](h)}this.ratingStyles_.rightEdge&&
(a=this.createImageNode_(a,this.ratingStyles_.rightEdge[q].inactive,"rightEdge",null,null,null),a.src=this.getImagePath_(this.ratingStyles_.rightEdge.image.inactive))};J.cancelNode_=function(){return this.node_.childNodes[0]};J.starNode_=function(a){return 0>=a||5<a?null:this.arrayStarNode_[a-1]};J.descriptionNode_=function(a){return this.textNode_.childNodes[a]};ia(J,function(){return this.value_});
J.setValue=function(a){a!=this.value_&&(this.value_=a,this.displayRating_(a),this.notifyListeners("valueChanged",this.value_))};J.displayTextDescription_=function(a){a!=this.displayValue_&&this.displayTextDescriptionForced_(a)};J.displayTextDescriptionForced_=function(a){var b=this.arrayTextDescriptions_[a],c=kf(this.value_),c=b?c+": "+b:c;this.displayOnly_?this.node_.title=c:(this.node_[I]("aria-valuenow",a),this.node_[I]("aria-valuetext",c),this.node_[I]("aria-label",c));this.displayMessage_(b)};
J.displayMessage_=function(a){this.textNode_&&pa(this.textNode_,a)};J.startSavingUI_=function(){this.displayMessage_(yf)};J.finishSavingUI_=function(){this.displayMessage_(zf)};J.getSavedTimeout_=function(){return 300};J.tearDownSavedUI_=function(){this.displayTextDescriptionForced_(this.value_)};
J.displayRating_=function(a){if(this.hasBeenAttached_){for(var b=0;5>b;++b){var c=this.starNode_(b+1),e;e=a>=b+.75?this.ratingStyles_.star.image[Ja]:a>=b+.25?this.ratingStyles_.star.image.half:this.ratingStyles_.star.image.inactive;e=this.getImagePath_(e);c.src!=e&&(c.src=e)}this.refreshCancelButton_(a);this.displayTextDescription_(a);this.displayValue_=a}};
J.refreshCancelButton_=function(a){this.cancelNode_&&(this.displayOnly_||0==this.value_?(this.cancelNode_.src=this.getImagePath_(this.ratingStyles_[lb].image.inactive),m(this.cancelNode_,this.ratingStyles_[lb][q].hidden),this.leftEdgeNode_&&m(this.leftEdgeNode_,this.ratingStyles_.leftEdge[q].inactive)):(this.leftEdgeNode_&&m(this.leftEdgeNode_,this.ratingStyles_.leftEdge[q].hidden),0==a?(m(this.cancelNode_,this.ratingStyles_[lb][q].inactive),this.cancelNode_.src=this.getImagePath_(this.ratingStyles_[lb].image[Ja])):
(m(this.cancelNode_,this.ratingStyles_[lb][q][Ja]),this.cancelNode_.src=this.getImagePath_(this.ratingStyles_[lb].image.inactive))))};var Pf=function(a){hf[r](this,a);this.uiGadget_=new Nf(this.averageForDisplay(),!0,this.getDomHelper());this.uiGadget_.setStyles(Of)};N(Pf,hf);var Of={style:"zzAggregateRating",star:{image:{active:"small_star_full.gif",inactive:"small_star_empty.gif",half:"small_star_half.gif"},style:{active:"zzSmallStar",inactive:"zzSmallStar"}}};Pf[u].averageForDisplay=function(){var a=this.externalStats_?this.externalStats_.combinedAverage(this.ratingHistogram_):this.ratingHistogram_.average();return 0<=a?a:0};
Pf[u].refreshUI_=function(){this.uiGadget_.setValue(this.averageForDisplay())};Pf[u].attach=function(a){this.uiGadget_.attach(a,null,null)};var Qf=function(a){jf[r](this,a)};N(Qf,jf);Qf[u].preferredWidth=function(){return 120};Qf[u].preferredHeight=function(){return 20};Qf[u].createGadget_=function(){return new Pf(this.domHelper_)};Ke().addToRegistry("AverageStarRating",Qf);var Rf=function(a,b,c){cf[r](this,c);this.childGadgets_=[];this.flowthrough_=!!a;this.updateListInternal_=null;b&&(this.layoutDescriptor_=new b(this.getDomHelper()),this.rootNode_=this.layoutDescriptor_.createDOM(),this.layoutDescriptor_.getAllGadgets(this));this.gadgetIndex_={}};N(Rf,cf);J=Rf[u];J.attach=function(a){this.rootNode_&&a[x](this.rootNode_)};J.addExternalListener=function(a,b){for(var c=0;c<this.childGadgets_[F];++c)this.childGadgets_[c].addExternalListener(a,b)};
J.addAllListeners=function(){Rf.superClass_.addAllListeners[r](this);this.addUpdateListListener("annotationRequest",K(this.onUpdateListChanged,this))};J.addGadget=function(a,b){this.childGadgets_[D](a);if(this.updateList()){var c=this.flowthrough_?this.updateList():this.updateListInternal_;a.attachUpdateList(c)}b&&(this.gadgetIndex_[b]={},this.gadgetIndex_[b].GadgetRef=a,this.gadgetIndex_[b].GadgetIndex=this.childGadgets_[F]-1);a.setAllStyles(this.styles_);return a};J.getGadgetByName=function(a){return this.gadgetIndex_[a].GadgetRef};
J.attachUpdateList=function(a){Rf.superClass_.attachUpdateList[r](this,a);if(this.flowthrough_)for(var b=0;b<this.childGadgets_[F];++b)this.childGadgets_[b].attachUpdateList(a);else for(this.updateListInternal_=new te(a.entity(),a[Sa]()),b=0;b<this.childGadgets_[F];++b)this.childGadgets_[b].attachUpdateList(this.updateListInternal_)};J.requestFetch=function(){for(var a=0;a<this.childGadgets_[F];++a)this.childGadgets_[a].requestFetch()};fa(J,function(a){if(!this.flowthrough_)for(var b=0;b<this.childGadgets_[F];++b)this.childGadgets_[b].display(a)});
J.onUpdateListChanged=function(a){if(!this.flowthrough_)for(var b=0;b<this.childGadgets_[F];++b)this.childGadgets_[b].onUpdateListChanged(a)};
J.save=function(){if(!this.flowthrough_){for(var a=0;a<this.childGadgets_[F];++a)this.childGadgets_[a].save();this.updateListInternal_.hasUpdates("annotationRequest")&&(a=this.updateListInternal_.coalesce("annotationRequest"),a[Ya]("updateProcessing",K(this.onUpdateProcessingEvent_,this,a)),a[Ya]("updateProcessed",K(this.onUpdateProcessedEvent_,this)),this.updateList().addUpdate(a),this.notifyListeners("valueChanged",a))}};
J.setStyle=function(a,b){Rf.superClass_.setStyle[r](this,a,b);for(var c=0;c<this.childGadgets_[F];++c)this.childGadgets_[c].setStyle(a,b)};J.setRatingHistogram=function(a){for(var b=0;b<this.childGadgets_[F];++b)this.childGadgets_[b].setRatingHistogram(a)};J.setExternalStats=function(a){for(var b=0;b<this.childGadgets_[F];++b)this.childGadgets_[b].setExternalStats(a)};var Sf=function(a,b){Rf[r](this,!0,null,b);this.rootNode_=this.getDomHelper().createDom("span");this.parentNodeDictionary_={};for(var c=/\{\$(\w+)\}/g,e=0,h=null,e=0;null!=(h=c[Ca](a));e=c.lastIndex)e<h.index&&this.addTextSpan(a[ya](e,h.index)),e=h[1],h=this.getDomHelper().createDom("span"),this.rootNode_[x](h),this.parentNodeDictionary_[e]=h;e<a[F]&&this.addTextSpan(a[ya](e,a[F]))};N(Sf,Rf);
Sf[u].addTextSpan=function(a){var b=this.getDomHelper().createDom("span"),c=0,e=a[F],h=[];" "==a[Na](0)&&(h[D](""),c++);" "==a[Na](a[F]-1)&&e--;h[D](a[ya](c,e));e<a[F]&&h[D]("");pa(b,h[p]("<span>&nbsp;</span>"));this.rootNode_[x](b)};Sf[u].attach=function(a){a[x](this.rootNode_);ad(this.styles_,this.rootNode_);for(var b in this.parentNodeDictionary_)this.getGadgetByName(b).attach(this.parentNodeDictionary_[b])};var Tf=function(a,b){Sf[r](this,a||qf,b);this.rootNode_[I]("zzLabel","helpful");this.totalPositiveCountGadget_=new Cf(5,5,!1,this.getDomHelper());this.totalCountGadget_=new Cf(1,5,!1,this.getDomHelper());this.addGadget(this.totalPositiveCountGadget_,"numPositiveRatings");this.addGadget(this.totalCountGadget_,"totalRatings");this.hideOnNoRatings_=!0};N(Tf,Sf);Tf[u].totalCountChanged_=function(a){this.hideOrDisplay_(a)};
Tf[u].hideOrDisplay_=function(a){m(this.rootNode_,0==a&&this.hideOnNoRatings_?"zzNumUsersFoundThisHelpful":"zzNumUsersFoundThisHelpfulActive")};Tf[u].setHideOnNoRatings=function(a){this.hideOnNoRatings_=a};Tf[u].attach=function(a){var b=this;this.totalCountGadget_[Ya]("valueChanged",function(a){b.totalCountChanged_(a)},!0);Tf.superClass_.attach[r](this,a)};var Uf=function(a){jf[r](this,a);this.template_=null;this.hideOnNoRatings_=!0};N(Uf,jf);J=Uf[u];J.preferredWidth=function(){return 460};
J.preferredHeight=function(){return 20};J.createGadget_=function(){return new Tf(this.template_,this.domHelper_)};J.configure_=function(a){Uf.superClass_.configure_[r](this,a);a.setHideOnNoRatings(this.hideOnNoRatings_);return a};
J.dictionary_=function(){return{hideOnNoRatings:{suppress:function(){return 1==this.hideOnNoRatings_},print:function(a){a[C](this.hideOnNoRatings_)},parse:function(a){this.hideOnNoRatings_=!!bd(ea(a)[bb](),!0)}},template:{suppress:function(){return!this.template_},print:function(a){a[A](this.template_)},parse:function(a){this.template_=a}}}};Ke().addToRegistry("NumUsersFoundThisHelpful",Uf);var Vf=function(a,b,c,e){ef[r](this,e);var h=this;this.value_=a;this.displayOnly_=b;this.hideIfNoValueAvailable_=c;this.uiGadget_=this.createUIGadget(a,b);this.uiGadget_[Ya]("valueChanged",function(a){h.onUIGadgetValueChanged_(a)})};N(Vf,ef);J=Vf[u];J.createUIGadget=function(a,b){return new Nf(a,b,this.getDomHelper())};J.attach=function(a,b,c){this.uiGadget_.attach(a,this.getDomHelper().getElement(b),this.getDomHelper().getElement(c))};ia(J,function(){return this.value_});
qa(J,function(){return"RatingEditorGadget "+this.entity()[bb]()});J.onUIGadgetValueChanged_=function(a){if(this.value_!=a){var b=this.createAndInitUpdate();b.setOriginalRating(this.value_);b.setRating(a);this.value_=a;this.displayOnly_||this.updateList().addUpdate(b);this.notifyListeners("valueChanged",a)}};fa(J,function(a){a&&a.rating&&(0>a.rating()?this.hideIfNoValueAvailable_?this.uiGadget_.showDisplay(!1):(this.uiGadget_.showDisplay(!0),this.displayNewValue_(0)):this.displayNewValue_(a.rating()))});
J.onUpdateListChanged=function(a){a&&a.rating&&(0>a.rating()?this.hideIfNoValueAvailable_?this.uiGadget_.showDisplay(!1):this.uiGadget_.showDisplay(!0):this.displayNewValue_(a.rating()))};J.displayNewValue_=function(a){this.value_!=a&&(this.value_=a,this.uiGadget_.setValue(this.value_),this.notifyListeners("valueChanged",this.value_))};var Wf=function(a){ff[r](this,a);this.val_=0};N(Wf,ff);Wf[u].setInitialValues=function(a){void 0!==this.val_&&a.setRating(this.val_)};
Wf[u].dictionary_=function(){return{val:{suppress:function(){return void 0===this.val_},print:function(a){a.number(this.val_)},parse:function(a){this.val_=k(a)}}}};var Xf=function(a){Wf[r](this,a);this.descriptionTemplateNodeId_=this.descriptionNodeId_=null};N(Xf,Wf);J=Xf[u];J.preferredWidth=function(){return 100};J.preferredHeight=function(){return 20};J.createGadget_=function(){return new Vf(this.val_,!1,null,this.domHelper_)};J.attach=function(a,b){a.attach(b,this.descriptionNodeId_,this.descriptionTemplateNodeId_)};
J.dictionary_=function(){return{descriptionNodeId:{suppress:function(){return!this.descriptionNodeId_},print:function(a){a.string(this.descriptionNodeId_)},parse:function(a){this.descriptionNodeId_=a}},descriptionTemplateNodeId:{suppress:function(){return!this.descriptionTemplateNodeId_},print:function(a){a.string(this.descriptionTemplateNodeId_)},parse:function(a){this.descriptionTemplateNodeId_=a}}}};Ke().addToRegistry("RatingEditor",Xf);var Yf=function(a){Xf[r](this,a)};N(Yf,Xf);
Yf[u].preferredWidth=function(){return 100};Yf[u].preferredHeight=function(){return 10};Yf[u].createGadget_=function(){return new Vf(this.val_,!0,null,this.domHelper_)};Ke().addToRegistry("RatingDisplay",Yf);var Zf=function(a,b,c){Rf[r](this,!0,null,c);this.ratingEditor_=this.addGadget(new Vf(a,null,null,this.getDomHelper()));this.aggregateStarRating_=this.addGadget(new Pf(this.getDomHelper()));this.aggregateRatingStats_=this.addGadget(new Cf(1,5,!0,this.getDomHelper()))};N(Zf,Rf);ia(Zf[u],function(){return this.ratingEditor_[y]()});
Zf[u].attach=function(a){var b=this.getDomHelper().createDom("TABLE");m(b,"zzRatingPanel");b[I]("cellspacing","0");b[I]("cellpadding","0");b[I]("border","0");ad(this.styles_,b);var c=this.getDomHelper().createDom("TBODY"),e=this.getDomHelper().createDom("TR"),h=this.getDomHelper().createDom("TD");m(h,"zzAggregateRating");e[x](h);var l=this.getDomHelper().createDom("TD");l[I]("valign","top");l[I]("style","padding-left: 5px;");m(l,"zzRatingEditor");e[x](l);c[x](e);var e=this.getDomHelper().createDom("TR"),
v=this.getDomHelper().createDom("TD");m(v,"zzAggregateRatingStat");e[x](v);var w=this.getDomHelper().createDom("TD");m(w,"zzRatingDescription");e[x](w);c[x](e);b[x](c);a[x](b);this.aggregateStarRating_.attach(h);this.ratingEditor_.attach(l,w);this.aggregateRatingStats_.attach(v)};var $f=function(a){jf[r](this,a);this.val_=0};N($f,jf);J=$f[u];J.preferredWidth=function(){return 300};J.preferredHeight=function(){return 60};J.setInitialValues=function(a){$f.superClass_.setInitialValues[r](this,a);a.setRating(this.val_)};
J.createGadget_=function(){var a=new Zf(this.val_,null,this.domHelper_);return a};J.dictionary_=function(){return{val:{suppress:function(){return 0==this.val_},print:function(a){a.number(this.val_)},parse:function(a){this.val_=k(a)}}}};Ke().addToRegistry("RatingPanel",$f);Ke().addToRegistry("RatingControl",$f);var ag=function(a){ef[r](this,a);this.node_=null};N(ag,ef);J=ag[u];J.attach=function(a){this.node_=this.createDOM_();a[x](this.node_)};J.createDOM_=function(){var a=this.getDomHelper().createDom("a");a.href="#";m(a,"zzReportSpamLink");pa(a,rf);Zc(a,"click",K(this.onSpamLinkClicked_,this));fa(a[q],"none");return a};fa(J,function(a){this.possiblyShowWidget_(a)});J.onUpdateListChanged=function(a){this.possiblyShowWidget_(a)};
J.possiblyShowWidget_=function(a){a&&a.entity()&&(a=this.useOriginalEntity(a.entity()),ie().id_&&ie().id_==a.author()?this.node_&&fa(this.node_[q],"none"):this.node_&&fa(this.node_[q],""))};J.onSpamLinkClicked_=function(){var a=new ce;a.setEntity(this.useOriginalEntity(this.entity()));a.setCategory(4);a.setAbuseCategory("GENERAL_ABUSE");var b=new fe;b.addAbuseReport(a);this.annotationDocument_.reportAbuse(b,K(this.abuseReportWritten_,this))};
J.abuseReportWritten_=function(a,b){0==b[$a]()&&this.notifyListeners("hide",null)};var bg=function(a){ff[r](this,a)};N(bg,ff);bg[u].createGadget_=function(){return new ag(this.domHelper_)};Ke().addToRegistry("ReportSpamLink",bg);var eg=function(a,b,c){Hf[r](this,a,b?cg:dg,c);this.displayOnly_=b;this.arrayRatingNode_=[];this.arrayRadioNode_=[];this.format_=0};N(eg,Hf);
var dg={style:"zzVotingEdit",ratings:[{value:5,label:"voteYes",text:Af,style:{active:"zzVoteAffirmativeActive",inactive:"zzVoteAffirmative",hidden:"zzVoteAffirmativeHidden"}},{value:1,label:"voteNo",text:Bf,style:{active:"zzVoteNegativeActive",inactive:"zzVoteNegative",hidden:"zzVoteNegativeHidden"}}],spacer:{text:"&nbsp;-&nbsp;",style:"zzVoteSpacer"}},cg={style:"zzVotingDisplay",ratings:[{value:5,text:"You voted yes",style:{active:"zzVoteAffirmativeActive",inactive:"zzVoteAffirmative",hidden:"zzVoteAffirmativeHidden"}},
{value:1,text:"You voted no",style:{active:"zzVoteNegativeActive",inactive:"zzVoteNegative",hidden:"zzVoteNegativeHidden"}}]};eg[u].setFormat=function(a){this.format_=a};
eg[u].createRatingNode_=function(a,b,c,e,h,l,v){var w=this,G=null;1==this.format_&&(G=this.getDomHelper().createDom("input"),oa(G,"radio"),G.checked=0,a[x](G));var V=this.getDomHelper().createDom("span");e&&V[I]("zzLabel",e);m(V,b);pa(V,c);a[x](V);v&&!this.displayOnly_&&Zc(V,"mouseover",function(){v[r](w,h)});l&&!this.displayOnly_&&(Zc(V,"mousedown",function(){l[r](w,h)}),G&&Zc(G,"mousedown",function(){l[r](w,h)}),V.role="button");h&&(V.ratingIndex=h,G&&(G.ratingIndex=h));this.arrayRatingNode_[D](V);
this.arrayRadioNode_[D](G);return V};eg[u].createRatingNodes_=function(a,b,c){for(var e=0;e<this.ratingStyles_.ratings[F];++e){if(0<e&&this.ratingStyles_.spacer){var h=this.getDomHelper().createDom("span");a[x](h);m(h,this.ratingStyles_.spacer[q]);pa(h,this.ratingStyles_.spacer.text)}h=this.ratingStyles_.ratings[e];this.createRatingNode_(a,h[q].inactive,h.text,h.label,h[y],b,c)}};
eg[u].displayRating_=function(a,b){if(this.hasBeenAttached_){for(var c=0;c<this.ratingStyles_.ratings[F];++c){var e=this.arrayRatingNode_[c],h=this.arrayRadioNode_[c],l=this.ratingStyles_.ratings[c];e.ratingIndex==a?(m(e,l[q][Ja]),h&&!b&&(h.checked=1)):(m(e,l[q].inactive),h&&!b&&(h.checked=0))}this.displayValue_=a}};var fg=function(a,b,c){Vf[r](this,a,b,null,c)};N(fg,Vf);fg[u].createUIGadget=function(a,b){return new eg(a,b,this.getDomHelper())};fg[u].setFormat=function(a){this.uiGadget_.setFormat(a)};var gg=function(a){Wf[r](this,a);this.format_=void 0};N(gg,Wf);var hg={textOnly:0,radioButton:1};J=gg[u];J.preferredWidth=function(){return 100};J.preferredHeight=function(){return 30};J.createGadget_=function(){return new fg(this.val_,!1,this.domHelper_)};
J.configure_=function(a){gg.superClass_.configure_[r](this,a);if(this.format_){var b=hg[this.format_];void 0!==b&&a.setFormat(b)}return a};J.dictionary_=function(){return{inputFormat:{suppress:function(){return!this.format_},print:function(a){a.string(this.format_)},parse:function(a){this.format_=a}}}};Ke().addToRegistry("VotingEditor",gg);var ig=function(a){Wf[r](this,a)};N(ig,Wf);ig[u].preferredWidth=function(){return 100};ig[u].preferredHeight=function(){return 30};
ig[u].createGadget_=function(){return new fg(this.val_,!0,this.domHelper_)};Ke().addToRegistry("VotingDisplay",ig);var Y=function(){};J=Y[u];J.getNode=function(a,b,c){a=g[Qa][a][H][t];return T(a,b,c)};J.getText=function(a,b,c){return(a=this.getNode(a,b,c))?a[Ha][ta]:null};J.getAttributeValue=function(a,b,c,e){a=g[Qa][a][H][t];return(b=T(a,b,c))?b[wa](e):null};J.getCancelStatus=function(a){a=g[Qa][a][H][t];return T(a,"zzlabel","cancel")[db]};J.getImgSrc=function(a,b,c){var e=null;a=g[Qa][a][H][t];var h=null;if(h=c?T(a,"class",c):T(a,"class","zzRatingEdit"))b=T(h,"zzlabel","star"+b),e=b[wa]("src");return e};
J.getRatingDescription=function(a){a=g[Qa][a][H][t];return(a=T(a,"class","zzRatingDescription"))?(a=T(a,"class","zzRatingDescription",!0),a[Ha][ta]):""};J.getNumRatings=function(a){a=g[Qa][a][H][t];return(a=T(a,"class","zzAggregateRatingStat"))?(a=T(a,"class","zzAggregateRatingStat",!0),a=a[Ha][ta],aa(a,10)):-1};J.getVotingStatus=function(a,b){var c=g[Qa][a][H][t],c=b?T(c,"zzlabel","voteYes"):T(c,"zzlabel","voteNo");return c[db]};
J.postComment=function(a,b){var c=g[Qa][a][H][t],e=T(c,"class","zzCommentPosterCollapseLinkImage");-1!=e[wa]("src")[z]("Plus")&&Ee(e);e=T(c,"zzlabel","textEditor");ia(e,b);c=T(c,"zzlabel","publishButton");Ee(c)};J.getCommentList=function(a){a=g[Qa][a][H][t];return T(a,"zzlabel","contentNode")};J.checkHideInAllComments=function(a,b){for(var c=this.getCommentList(a),e=0,c=c[Ha];c;c=c[jb])if(1==c[eb]&&"twCommentDisplay"==c[wa]("zzlabel")){if(b&&!T(c,"class","zzHideAnnotationLink"))return-1;++e}return e};
J.getIthCommentNode=function(a,b){for(var c=this.getCommentList(a),e=0,c=c[Ha];c;c=c[jb])if(1==c[eb]&&"twCommentDisplay"==c[wa]("zzlabel")){if(e==b)return c;++e}return null};J.getTextInNode=function(a){if(null==a)return"";if("#text"==a[Wa])return a[ta];var b="";for(a=a[Ha];a;a=a[jb])b="#text"==a[Wa]?b+a[ta]:b+this.getTextInNode(a);return b};
J.checkFieldsInIthComment=function(a,b,c){var e=this.getCommentList(a);if(null==e)return"commentListContainer == null";a=this.getIthCommentNode(a,b);return null==a?"commentNode == null":this.checkFieldsInComment(a,c)};
J.checkFieldsInComment=function(a,b){var c=T(a,"class","zzCommentDisplayAuthorName"),c=this.getTextInNode(c);if(null==c||0==c[F])return"Failed to check author field (null or empty).";c=T(a,"class","zzCommentDisplayTimestamp");c=this.getTextInNode(c);if(null==c||0==c[F])return"Failed to check timestamp field (null or empty).";c=T(a,"class","zzReportSpamLink");c=this.getTextInNode(c);if(b!=c)return"Failed to check mark spam link. Got: "+c;c=T(a,"class","zzTextEditorReadOnly");c=this.getTextInNode(c);
return null==c||0==c[F]?"Failed to check comment content (null or empty).":"true"};J.checkSignInLink=function(a,b){var c=g[Qa][a][H][t],c=T(c,"class","zzCommentPosterSignInLink"),c=this.getTextInNode(c)[B](/\u00A0/g," ");return c==b?"true":"Failed to check SignInLink. Got: "+c};J.getIthComment=function(a,b){var c=this.getIthCommentNode(a,b);return c?(c=T(c,"class","zzTextEditorReadOnly"),this.getTextInNode(c)):""};
J.hideIthComment=function(a,b){var c=this.getIthCommentNode(a,b);c&&(c=T(c,"class","zzHideAnnotationLink"),Ee(c))};J.doRating=function(a,b){var c=g[Qa][a][H][t];(c=T(c,"class","zzRatingEdit"))&&(c=0==b?T(c,"zzlabel","cancel"):T(c,"zzlabel","star"+b))&&De(c)};J.doVoting=function(a,b){var c=g[Qa][a][H][t];(c=b?T(c,"zzlabel","voteYes"):T(c,"zzlabel","voteNo"))&&De(c)};var jg=null,Z=function(a,b,c){var e=K,h;jg||(jg=new Y);h=jg;c=e(c,h);a[b]=c};g.google=g[E]||{};var kg={};g[E].seleniumhelper=kg;
Z(g[E].seleniumhelper,"getNode",Y[u].getNode);Z(g[E].seleniumhelper,"getText",Y[u].getText);Z(g[E].seleniumhelper,"getAttributeValue",Y[u].getAttributeValue);Z(g[E].seleniumhelper,"getCancelStatus",Y[u].getCancelStatus);Z(g[E].seleniumhelper,"getImgSrc",Y[u].getImgSrc);Z(g[E].seleniumhelper,"getRatingDescription",Y[u].getRatingDescription);Z(g[E].seleniumhelper,"getNumRatings",Y[u].getNumRatings);Z(g[E].seleniumhelper,"getVotingStatus",Y[u].getVotingStatus);
Z(g[E].seleniumhelper,"checkSignInLink",Y[u].checkSignInLink);Z(g[E].seleniumhelper,"checkFieldsInIthComment",Y[u].checkFieldsInIthComment);Z(g[E].seleniumhelper,"postComment",Y[u].postComment);Z(g[E].seleniumhelper,"checkHideInAllComments",Y[u].checkHideInAllComments);Z(g[E].seleniumhelper,"getIthComment",Y[u].getIthComment);Z(g[E].seleniumhelper,"hideIthComment",Y[u].hideIthComment);Z(g[E].seleniumhelper,"doRating",Y[u].doRating);Z(g[E].seleniumhelper,"doVoting",Y[u].doVoting);var lg=function(){},Pe=null;lg[u].isNotNullProfiler=function(){return!0};var mg=function(){};N(mg,lg);Pe=new mg;lg[u].isNotNullProfiler=function(){return!1};var ng=function(){};var pg=function(){return og.createInstance()},og,qg=function(){};ub(qg,ng);qg[u].createInstance=function(){var a=this.getProgId_();return a?new ActiveXObject(a):new XMLHttpRequest};
qg[u].getProgId_=function(){if(!this.ieProgId_&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var a=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],b=0;b<a[F];b++){var c=a[b];try{return new ActiveXObject(c),this.ieProgId_=c}catch(e){}}throw da("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");}return this.ieProgId_};var rg=new qg;og=rg;var sg=function(){this.xhr_=null;this.active_=!1};J=sg[u];na(J,function(a,b,c,e,h,l,v){c=c||"GET";this.active_=!0;this.xhr_=v?v:new pg;this.xhr_.onreadystatechange=K(this.onReadyStateChange_,this,b);try{this.xhr_.open(c,a,!0)}catch(w){return}a=e||"";"POST"==c&&h&&!h["Content-Type"]&&this.xhr_.setRequestHeader("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(var G in h)h.hasOwnProperty(G)&&this.xhr_.setRequestHeader(G,h[G]);try{0<l&&g[Ia](K(this.timeout_,this,b),l),this.xhr_[Ra](a)}catch(V){}});
J.timeout_=function(a){"undefined"!=typeof Vb&&this.xhr_&&(this.abort(),a(this.xhr_,0))};J.abort=function(){this.xhr_&&(this.active_=!1,this.xhr_.abort(),this.cleanUpXhr_())};J.cleanUpXhr_=function(){this.xhr_&&(this.xhr_=null)};J.onReadyStateChange_=function(a){this.active_&&"undefined"!=typeof Vb&&this.isComplete()&&(this.active_=!1,this.isSuccess()?a(this.xhr_,1):a(this.xhr_,2),this.cleanUpXhr_())};J.isComplete=function(){return 4==this.getReadyState()};
J.isSuccess=function(){switch(this.getStatus()){case 0:case 200:case 204:case 304:return!0;default:return!1}};J.getReadyState=function(){return this.xhr_?this.xhr_.readyState:0};J.getStatus=function(){try{return 2<this.getReadyState()?this.xhr_[$a]:-1}catch(a){return-1}};var tg=function(){};N(tg,Rd);na(tg[u],function(a,b){var c=a.toJSON(ld(),!0),e=[];e[D]("req="+c);(c=R().userKey())&&e[D]("userKey="+c);var c=[],h=R().widgetsOnPage_,l;for(l in h)c[D](l);e[D]("requestSource="+c[p](","));a.pushArguments(e);e=e[p]("&");l=a.url();var c=K(this.xmlHttpCompleteHandler_,this,b),h=a.timeout(),v=new sg;v[Ra](l,c,"POST",e,null,d.max(0,h),void 0)});
tg[u].xmlHttpCompleteHandler_=function(a,b,c){var e=new Pd;0==c?(e.initFromRequestStatus(null,Rd.STATUS.TIMEOUT),a(null,e)):2==c?(e.initFromRequestStatus(null,Rd.STATUS.FAILURE),a(null,e)):(b=b.responseText)?"{"!=b[Na](0)?(e.initFromRequestStatus(null,Rd.STATUS.SERVER_RESPONSE_IS_NOT_JSON),a(null,e)):(b=eval("("+b+")"),e.initFromRequestStatus(b,Rd.STATUS.SUCCESS),a(b,e)):(e.initFromRequestStatus(null,Rd.STATUS.SERVER_RESPONSE_IS_NOT_JSON),a(null,e))};var ug=function(){};N(ug,S);ug[u].createServerChannel=function(){return new tg};S.singleton_=new ug;window["google"]["annotations"]["internal"]["initFromCGIArgs"]();if (window["google"] && window["google"]["annotations"] && window["google"]["annotations"]["callback"]) {window["google"]["annotations"]["callback"]();}})()